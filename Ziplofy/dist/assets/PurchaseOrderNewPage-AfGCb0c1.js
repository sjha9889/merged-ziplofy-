import{j as e,R as Ne,r as s,b as Se,d as Ce,aE as we,c as Pe,az as ke,q as Te,u as Ie}from"./index-C7S6h9OR.js";import{F as te}from"./TrashIcon-B2-WJkmb.js";import{M as Ae}from"./MultiSelect-DYMnqjW0.js";import{M as Me}from"./Modal-DsfhGJdg.js";import{S as I}from"./Select-DGEw1X1o.js";import{G as Oe}from"./GridBackgroundWrapper-Du1VLjut.js";import"./index-CCB_rw4P.js";const Re=({productImage:t,productTitle:a})=>e.jsx("tr",{className:"bg-white",children:e.jsx("td",{colSpan:2,className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[t?e.jsx("img",{src:t,alt:a||"Product",className:"w-8 h-8 object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gray-200"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:a||"Unnamed product"})]})})}),De=({variantId:t,variant:a,isSelected:r,onToggle:n})=>{const d=(()=>{const i=a.optionValues||{};return Object.values(i).map(o=>String(o)).join(" / ")})(),m=typeof a.availability=="number"?a.availability:0;return e.jsxs("tr",{onClick:()=>n(t),className:`cursor-pointer hover:bg-gray-50 ${r?"bg-gray-100":""}`,children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:"text-sm text-gray-900",children:d})}),e.jsx("td",{className:"px-4 py-2 text-right text-sm text-gray-900",children:m})]},`var-${t}`)},Ee=({productId:t,productImage:a,productTitle:r,variants:n,selectedVariantIds:d,onVariantToggle:m})=>e.jsxs(Ne.Fragment,{children:[e.jsx(Re,{productImage:a,productTitle:r}),(n||[]).map(i=>e.jsx(De,{variantId:String(i._id),variant:i,isSelected:d.has(String(i._id)),onToggle:m},`var-${i._id}`))]},`prod-${t}`),Ue=({results:t,selectedVariantIds:a,onVariantToggle:r})=>e.jsx(e.Fragment,{children:t.map(n=>e.jsx(Ee,{productId:n.product?._id,productImage:n.product?.imageUrls?.[0],productTitle:n.product?.title||"Unnamed product",variants:n.variants||[],selectedVariantIds:a,onVariantToggle:r},`prod-${n.product?._id}`))}),Le=({searching:t,results:a,selectedVariantIds:r,onVariantToggle:n})=>e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Product / Variant"}),e.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:"Availability"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[t&&e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-2 text-sm text-gray-600",children:"Searching..."})}),!t&&a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-2 text-sm text-gray-600",children:"No results"})}),!t&&e.jsx(Ue,{results:a,selectedVariantIds:r,onVariantToggle:n})]})]}),_e=({item:t,index:a,onSupplierSkuChange:r,onQtyChange:n,onCostChange:d,onTaxPctChange:m,onRemove:i})=>{const u=(t.qty||0)*(t.cost||0)*(1+(t.taxPct||0)/100);return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.productImage?e.jsx("img",{src:t.productImage,alt:t.productTitle,className:"w-8 h-8 object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gray-200"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.productTitle}),e.jsxs("div",{className:"text-xs text-gray-600",children:[t.variantLabel," • ",t.variantSku||"-"]})]})]})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"text",placeholder:"Supplier SKU",value:t.supplierSku,onChange:o=>r(a,o.target.value),className:"px-2 py-1 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400"})}),e.jsx("td",{className:"px-4 py-2 text-right",children:e.jsx("input",{type:"number",min:1,value:t.qty,onChange:o=>n(a,Number(o.target.value)||1),className:"w-[90px] px-2 py-1 text-sm border border-gray-200 text-right focus:outline-none focus:ring-1 focus:ring-gray-400"})}),e.jsx("td",{className:"px-4 py-2 text-right",children:e.jsx("input",{type:"number",min:0,step:"0.01",value:t.cost,onChange:o=>d(a,Number(o.target.value)||0),className:"w-[110px] px-2 py-1 text-sm border border-gray-200 text-right focus:outline-none focus:ring-1 focus:ring-gray-400"})}),e.jsx("td",{className:"px-4 py-2 text-right",children:e.jsx("input",{type:"number",min:0,max:100,step:"0.01",value:t.taxPct,onChange:o=>m(a,Number(o.target.value)),className:"w-[100px] px-2 py-1 text-sm border border-gray-200 text-right focus:outline-none focus:ring-1 focus:ring-gray-400"})}),e.jsx("td",{className:"px-4 py-2 text-right text-sm text-gray-900",children:u.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-right",children:e.jsx("button",{onClick:()=>i(a),className:"p-1 text-gray-600 hover:text-red-600 transition-colors","aria-label":"Remove",children:e.jsx(te,{className:"w-4 h-4"})})})]})},Be=({items:t,onSupplierSkuChange:a,onQtyChange:r,onCostChange:n,onTaxPctChange:d,onRemove:m})=>e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((i,u)=>e.jsx(_e,{item:i,index:u,onSupplierSkuChange:a,onQtyChange:r,onCostChange:n,onTaxPctChange:d,onRemove:m},i.variantId))}),Fe=({items:t,onSupplierSkuChange:a,onQtyChange:r,onCostChange:n,onTaxPctChange:d,onRemove:m})=>e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Product"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-900",children:"Supplier SKU"}),e.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:"Cost"}),e.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:"Tax %"}),e.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900",children:"Total"}),e.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-gray-900"})]})}),e.jsx(Be,{items:t,onSupplierSkuChange:a,onQtyChange:r,onCostChange:n,onTaxPctChange:d,onRemove:m})]}),Ve=({search:t,onSearchChange:a,searching:r,results:n,selectedVariantIds:d,onVariantToggle:m,onAddSelected:i,items:u,onItemsChange:o})=>{const v=(b,C)=>{o(u.map((p,S)=>S===b?{...p,supplierSku:C}:p))},x=(b,C)=>{const p=Math.max(1,C||1);o(u.map((S,w)=>w===b?{...S,qty:p}:S))},y=(b,C)=>{const p=Math.max(0,C||0);o(u.map((S,w)=>w===b?{...S,cost:p}:S))},j=(b,C)=>{let p=C;isNaN(p)?p=0:p=Math.min(100,Math.max(0,p)),o(u.map((S,w)=>w===b?{...S,taxPct:p}:S))},k=b=>{o(u.filter((C,p)=>p!==b))};return e.jsxs("div",{className:"border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-3",children:"Add products"}),e.jsx("input",{type:"text",placeholder:"Search products",value:t,onChange:b=>a(b.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-200 mb-3 focus:outline-none focus:ring-1 focus:ring-gray-400"}),e.jsx("div",{className:"flex justify-end mb-2",children:e.jsx("button",{onClick:i,disabled:d.size===0,className:"px-3 py-1.5 text-sm font-medium bg-gray-900 text-white hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"Add selected"})}),e.jsx("div",{className:"border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Le,{searching:r,results:n,selectedVariantIds:d,onVariantToggle:m})})}),u.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Selected items"}),e.jsx("div",{className:"border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Fe,{items:u,onSupplierSkuChange:v,onQtyChange:x,onCostChange:y,onTaxPctChange:j,onRemove:k})})})]})]})},qe=({reference:t,onReferenceChange:a,tagIds:r,onTagIdsChange:n,note:d,onNoteChange:m,tagOptions:i,tagsLoading:u})=>e.jsxs("div",{className:"border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-3",children:"Additional details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Reference number"}),e.jsx("input",{type:"text",value:t,onChange:o=>a(o.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400"})]}),e.jsx("div",{className:"flex-1",children:e.jsx(Ae,{label:"Tags",value:r,options:i,onChange:n,placeholder:u?"Loading…":"No tags",disabled:u&&i.length===0})})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Note to supplier"}),e.jsx("textarea",{value:d,onChange:o=>m(o.target.value),rows:3,className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400"})]})]}),Ge=({itemsCount:t,subtotal:a,taxAmount:r,adjustmentsTotal:n,adjustmentsRows:d,shippingCost:m,total:i,onManageClick:u,onCancel:o,onCreatePurchaseOrder:v,creatingPO:x,canCreate:y})=>e.jsxs("div",{className:"border border-gray-200 p-4 mb-24 bg-white/95",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900",children:"Cost summary"}),e.jsx("button",{onClick:u,className:"px-3 py-1.5 text-sm font-medium border border-gray-200 hover:bg-gray-50 transition-colors",children:"Manage"})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["Items: ",e.jsx("span",{className:"font-medium",children:t})]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Subtotal: ",e.jsx("span",{className:"font-medium",children:a.toFixed(2)})]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Tax: ",e.jsx("span",{className:"font-medium",children:r.toFixed(2)})]}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Cost adjustments: ",e.jsx("span",{className:"font-medium",children:n.toFixed(2)})]}),d.length>0&&e.jsx("div",{className:"pl-3 space-y-0.5",children:d.map((j,k)=>{const b=j.type?j.type.replace(/_/g," "):"adjustment",C=j.type?.toLowerCase()==="discount"?-Math.abs(j.amount||0):j.amount||0;return e.jsxs("div",{className:"text-xs text-gray-600",children:[b,": ",C.toFixed(2)]},k)})}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Shipping: ",e.jsx("span",{className:"font-medium",children:m.toFixed(2)})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("div",{className:"text-sm text-gray-900",children:["Total: ",e.jsx("span",{className:"font-medium",children:i.toFixed(2)})]})]}),e.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[e.jsx("button",{onClick:o,className:"px-3 py-1.5 text-sm font-medium text-gray-700 border border-gray-200 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:v,disabled:!y,className:"px-3 py-1.5 text-sm font-medium bg-gray-900 text-white hover:bg-gray-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:x?"Creating…":"Create purchase order"})]})]}),$e=({open:t,onClose:a,adjustmentsRows:r,onAdjustmentsRowsChange:n,adjustmentTypeOptions:d})=>{const m=(v,x)=>{n(r.map((y,j)=>j===v?{...y,type:x}:y))},i=(v,x)=>{const y=Number(x)||0;n(r.map((j,k)=>k===v?{...j,amount:y}:j))},u=v=>{n(r.filter((x,y)=>y!==v))},o=()=>{n([...r,{type:"discount",amount:0}])};return e.jsx(Me,{open:t,onClose:a,title:"Manage cost summary",maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"px-3 py-1.5 text-sm font-medium text-gray-700 border border-gray-200 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:a,className:"px-3 py-1.5 text-sm font-medium bg-gray-900 text-white hover:bg-gray-800 transition-colors",children:"Save"})]}),children:e.jsxs("div",{className:"space-y-3 mt-2",children:[r.map((v,x)=>e.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsx(I,{label:"Adjustment",value:x===0?"shipping":v.type,options:d,onChange:y=>m(x,y),placeholder:"Select adjustment",disabled:x===0})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Amount"}),e.jsx("input",{type:"number",value:v.amount,onChange:y=>i(x,Number(y.target.value)),className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400"})]}),x!==0&&e.jsx("button",{onClick:()=>u(x),className:"p-1 text-gray-600 hover:text-red-600 transition-colors","aria-label":"Remove adjustment",children:e.jsx(te,{className:"w-4 h-4"})})]},x)),r.length<8&&e.jsx("button",{onClick:o,className:"w-full px-3 py-1.5 text-sm font-medium border border-gray-200 hover:bg-gray-50 transition-colors",children:"Add adjustment"})]})})},ze=({eta:t,onEtaChange:a,carrier:r,onCarrierChange:n,tracking:d,onTrackingChange:m,carrierOptions:i})=>e.jsxs("div",{className:"border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-3",children:"Shipment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Estimated arrival"}),e.jsx("input",{type:"date",value:t,onChange:u=>a(u.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400"})]}),e.jsx(I,{label:"Shipping carrier",value:r,options:i,onChange:n,placeholder:"Select carrier"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Tracking number"}),e.jsx("input",{type:"text",placeholder:"Enter tracking",value:d,onChange:u=>m(u.target.value),className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400"})]})]})]}),We=({supplierId:t,onSupplierIdChange:a,destinationId:r,onDestinationIdChange:n,paymentTerms:d,onPaymentTermsChange:m,currency:i,onCurrencyChange:u,vendorOptions:o,locationOptions:v,paymentTermsOptions:x,currencyOptions:y})=>e.jsxs("div",{className:"border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-3",children:"Supplier & Destination"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(I,{label:"Supplier",value:t,options:o,onChange:a,placeholder:"Select supplier"}),e.jsx(I,{label:"Destination",value:r,options:v,onChange:n,placeholder:"Select destination"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[e.jsx(I,{label:"Payment terms (optional)",value:d,options:x,onChange:m,placeholder:"Select payment terms"}),e.jsx(I,{label:"Supplier currency",value:i,options:y,onChange:u,placeholder:"Select currency"})]})]}),tt=()=>{const[t,a]=s.useState(""),[r,n]=s.useState(""),[d,m]=s.useState(""),[i,u]=s.useState("INR"),[o,v]=s.useState(""),[x,y]=s.useState(""),[j,k]=s.useState(""),[b,C]=s.useState(""),[p,S]=s.useState([]),[w,V]=s.useState([]),[se,q]=s.useState(!1),O=s.useRef(0),R=s.useRef(w);s.useEffect(()=>{R.current=w},[w]);const[D,G]=s.useState(new Set),[E,ae]=s.useState(""),[U,re]=s.useState(""),[L,ne]=s.useState([]),A=s.useMemo(()=>p.reduce((l,c)=>l+c.qty*c.cost,0),[p]),_=s.useMemo(()=>0,[A]),B=0,[T,$]=s.useState([]),[le,z]=s.useState(!1),F=s.useMemo(()=>T.reduce((l,c)=>l+(c.type?.toLowerCase()==="discount"?-Math.abs(c.amount||0):c.amount||0),0),[T]),oe=s.useMemo(()=>A+_+B+F,[A,_,B,F]),{activeStoreId:f}=Se(),{searchProductWithVariantAndDestination:W}=Ce();s.useEffect(()=>{const l=b.trim();if(!l||!r){R.current.length>0&&V([]);return}const c=++O.current,h=setTimeout(async()=>{q(!0);try{const g=await W({storeId:f,q:l,destinationLocationId:r});c===O.current&&V(Array.isArray(g)?g:g?.data||[])}finally{c===O.current&&q(!1)}},400);return()=>{clearTimeout(h)}},[b,r,W,f]);const{vendors:K,fetchVendorsByStoreId:Q}=we(),{locations:H,fetchLocationsByStoreId:J}=Pe(),{tags:Y,fetchTagsByStoreId:X,loading:ce}=ke(),{createPurchaseOrder:Z,loading:ee}=Te(),M=Ie();s.useEffect(()=>{f&&Q?.(f)},[f,Q]),s.useEffect(()=>{f&&J?.(f)},[f,J]),s.useEffect(()=>{f&&X(f).catch(()=>{})},[f,X]);const ie=s.useMemo(()=>[{value:"none",label:"None"},{value:"cash on delivery",label:"Cash on delivery"},{value:"payment on receipt",label:"Payment on receipt"},{value:"payment in advance",label:"Payment in advance"},{value:"net 7",label:"Net 7"},{value:"net 15",label:"Net 15"},{value:"net 30",label:"Net 30"},{value:"net 45",label:"Net 45"},{value:"net 60",label:"Net 60"}],[]),de=s.useMemo(()=>[{value:"INR",label:"INR"},{value:"USD",label:"USD"},{value:"EUR",label:"EUR"},{value:"GBP",label:"GBP"},{value:"JPY",label:"JPY"},{value:"AUD",label:"AUD"},{value:"CAD",label:"CAD"}],[]),ue=s.useMemo(()=>["4PX-99 Minutos","Aeronet","ATS","Amazon","Amazon Logistics UK","AMM Speedreturn","AN Post","Anjun Logistics","Australia Post","Better Trucks","Bonshaw","Border Express","B Post","B Post International","Canada Post","Cargo Expresso GT","Cargo Expresso SV","Deliver It","Delivery"].map(l=>({value:l,label:l})),[]),me=s.useMemo(()=>(K||[]).map(l=>({value:l._id,label:l.name||l.title||"Unnamed vendor"})),[K]),xe=s.useMemo(()=>(H||[]).map(l=>({value:l._id,label:l.name})),[H]),pe=s.useMemo(()=>Y.map(l=>({value:l._id,label:l.name})),[Y]),ge=s.useMemo(()=>[{value:"shipping",label:"Shipping"},{value:"discount",label:"Discount"},{value:"handling",label:"Handling"},{value:"insurance",label:"Insurance"},{value:"packaging",label:"Packaging"},{value:"surcharge",label:"Surcharge"},{value:"customs",label:"Customs"},{value:"duty",label:"Duty"},{value:"other",label:"Other"}],[]),he=s.useCallback(()=>{const l=[],c=new Set(D);for(const h of R.current)for(const g of h?.variants||[])if(c.has(String(g._id))){const N=(()=>{const P=g.optionValues||{};return Object.values(P).map(fe=>String(fe)).join(" / ")})();l.push({variantId:String(g._id),productTitle:h?.product?.title||"Unnamed product",productImage:h?.product?.imageUrls?.[0],variantLabel:N,variantSku:g.sku,supplierSku:"",qty:1,cost:0,taxPct:0})}S(h=>{const g=new Set(h.map(P=>P.variantId)),N=[...h];for(const P of l)g.has(P.variantId)||N.push(P);return N}),G(new Set)},[D]),ye=s.useCallback(l=>{G(c=>{const h=new Set(c),g=String(l);return h.has(g)?h.delete(g):h.add(g),h})},[]),be=s.useCallback(()=>{$(l=>{const h=l.some(N=>(N.type||"").toLowerCase()==="shipping")?l:[{type:"shipping",amount:0},...l],g=h.findIndex(N=>(N.type||"").toLowerCase()==="shipping");if(g>0){const N=[...h],[P]=N.splice(g,1);return N.unshift(P),N}return h}),z(!0)},[]),ve=s.useCallback(async()=>{try{const l={storeId:f,supplierId:t,destinationLocationId:r,referenceNumber:E||void 0,noteToSupplier:U||void 0,tags:L,paymentTerm:d||void 0,supplierCurrency:i||void 0,shippingCarrier:x||void 0,trackingNumber:j||void 0,expectedArrivalDate:o?new Date(o).toISOString():void 0,status:"draft",costAdjustments:T.map(c=>({name:c.type,amount:c.amount})).concat([{name:"shipping",amount:0}]).reduce((c,h)=>{const g=c.findIndex(N=>N.name===h.name);return g===-1?c.push(h):c[g]={...c[g],amount:c[g].amount+h.amount},c},[]),entries:p.map(c=>({variantId:c.variantId,supplierSku:c.supplierSku||void 0,quantityOrdered:c.qty,cost:c.cost,taxPercent:c.taxPct||void 0}))};await Z(l),M("/products/purchase-orders")}catch{}},[f,t,r,E,U,L,d,i,x,j,o,T,p,Z,M]),je=s.useCallback(()=>{M("/products/purchase-orders")},[M]);return e.jsx(Oe,{children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"border-b border-gray-200 px-4 py-3",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Create Purchase Order"})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-4",children:[e.jsx(We,{supplierId:t,onSupplierIdChange:a,destinationId:r,onDestinationIdChange:n,paymentTerms:d,onPaymentTermsChange:m,currency:i,onCurrencyChange:u,vendorOptions:me,locationOptions:xe,paymentTermsOptions:ie,currencyOptions:de}),e.jsx(ze,{eta:o,onEtaChange:v,carrier:x,onCarrierChange:y,tracking:j,onTrackingChange:k,carrierOptions:ue}),e.jsx(Ve,{search:b,onSearchChange:C,searching:se,results:w,selectedVariantIds:D,onVariantToggle:ye,onAddSelected:he,items:p,onItemsChange:S}),e.jsx(qe,{reference:E,onReferenceChange:ae,tagIds:L,onTagIdsChange:ne,note:U,onNoteChange:re,tagOptions:pe,tagsLoading:ce}),e.jsx(Ge,{itemsCount:p.length,subtotal:A,taxAmount:_,adjustmentsTotal:F,adjustmentsRows:T,shippingCost:B,total:oe,onManageClick:be,onCancel:je,onCreatePurchaseOrder:ve,creatingPO:ee,canCreate:!ee&&!!f&&!!t&&!!r&&p.length>0}),e.jsx($e,{open:le,onClose:()=>z(!1),adjustmentsRows:T,onAdjustmentsRowsChange:$,adjustmentTypeOptions:ge})]})]})})};export{tt as default};
