import{u as b,U as u,b as N,R as m,r as f,j as e,i as v,g as w}from"./index-C7S6h9OR.js";import{G as R}from"./GridBackgroundWrapper-Du1VLjut.js";import{F as S}from"./ArrowUpTrayIcon-Unc2xeT8.js";import{F as k}from"./ArrowsUpDownIcon-s_tpXzWy.js";const A=()=>{const x=b(),{roles:i,loading:a,fetchByStoreId:h}=u(),{activeStoreId:l}=N(),t=m.useMemo(()=>i.map(s=>({id:s._id,name:s.name,users:0})),[i]),[c,d]=m.useState({});f.useEffect(()=>{l&&h(l).catch(()=>{})},[l]);const g=s=>{d(r=>({...r,[s]:!r[s]}))},y=()=>{const s=t.every(n=>c[n.id]),r={};t.forEach(n=>{r[n.id]=!s}),d(r)},o=t.filter(s=>c[s.id]).length,p=t.length>0&&o===t.length,j=t.length>0&&o>0&&o<t.length;return e.jsx(R,{children:e.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Roles"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"px-3 py-1.5 text-sm border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-1.5",children:[e.jsx(S,{className:"w-4 h-4"}),"Export"]}),e.jsxs("button",{onClick:()=>x("/settings/users/roles/new"),className:"px-3 py-1.5 text-sm text-white bg-gray-900 hover:bg-gray-800 transition-colors flex items-center gap-1.5",children:[e.jsx(v,{className:"w-4 h-4"}),"Add role"]})]})]}),e.jsxs("div",{className:"border border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3",children:[e.jsx("button",{className:"px-3 py-1 text-xs border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors",children:"All"}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{className:"p-1 text-gray-600 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:e.jsx(w,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-gray-600 hover:text-gray-700 hover:bg-gray-50 transition-colors",children:e.jsx(k,{className:"w-4 h-4"})})]}),e.jsx("hr",{className:"border-gray-200"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white border-b border-gray-200",children:[e.jsx("th",{className:"w-12 px-3 py-2 text-left",children:e.jsx("input",{type:"checkbox",ref:s=>{s&&(s.indeterminate=j)},checked:p,onChange:y,className:"w-4 h-4 text-gray-900 focus:ring-gray-400","aria-label":"select all roles"})}),e.jsx("th",{className:"px-3 py-2 text-left text-sm font-medium text-gray-900",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-right text-sm font-medium text-gray-900",children:"Users"})]})}),e.jsxs("tbody",{children:[a&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-4 text-sm text-gray-600 text-center",children:"Loading..."})}),!a&&t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-4 text-sm text-gray-600 text-center",children:"Currently you have no roles added."})}),!a&&t.length>0&&t.map(s=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>x(`/settings/users/roles/${s.id}`),children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",checked:!!c[s.id],onChange:()=>g(s.id),onClick:r=>r.stopPropagation(),className:"w-4 h-4 text-gray-900 focus:ring-gray-400","aria-label":`select role ${s.name}`})}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:s.name}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-900 text-right",children:s.users})]},s.id))]})]})}),e.jsx("div",{className:"p-3 text-center border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-600",children:["Learn more about ",e.jsx("a",{href:"#",className:"text-gray-700 hover:underline",children:"roles"})]})})]})]})})};export{A as default};
