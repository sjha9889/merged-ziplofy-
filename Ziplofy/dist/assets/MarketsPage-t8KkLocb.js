import{j as e,aH as u,i as g,N as b,g as h,u as p,$ as f,b as j,r as l}from"./index-C7S6h9OR.js";import{F as y}from"./FunnelIcon-C0EmTLgY.js";import{F as v}from"./ArrowPathIcon-WqkWOGbf.js";function N({onCreateMarket:t,onGraphView:r}){return e.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[e.jsxs("div",{className:"pl-3 border-l-4 border-blue-500/60",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Markets"}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage your markets and catalogs"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r&&e.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-1.5 px-3 py-2 rounded-lg border border-gray-200/80 text-gray-700 hover:bg-blue-50 hover:border-blue-200 hover:text-blue-700 transition-colors text-sm font-medium",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:"Graph view"})]}),e.jsxs("button",{type:"button",className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",onClick:t,children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:"Create market"})]})]})]})}function w({id:t,name:r,status:s,onSelect:a}){const n=s==="active";return e.jsxs("button",{type:"button",onClick:()=>a(t),className:"cursor-pointer w-full text-left px-4 py-3 grid grid-cols-[2fr_1fr] hover:bg-blue-50/50 transition-colors border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-blue-500/70"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r})]}),e.jsx("div",{className:"flex items-center",children:n?e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-lg bg-green-50 text-green-700 border border-green-200/80",children:"Active"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-lg bg-gray-100 text-gray-600 border border-gray-200/80",children:"Draft"})})]})}function k({markets:t,onSelect:r}){return e.jsx(e.Fragment,{children:t.map((s,a)=>e.jsxs("div",{children:[e.jsx(w,{id:s._id,name:s.name,status:s.status,onSelect:r}),a<t.length-1&&e.jsx("div",{className:"border-t border-gray-200"})]},s._id))})}function C({markets:t,loading:r,onSelect:s}){return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-[2fr_1fr] px-4 py-3 text-xs font-semibold text-gray-600 bg-gray-50/80 border-b border-gray-200/80",children:[e.jsx("div",{children:"Market Name"}),e.jsx("div",{children:"Status"})]}),e.jsxs("div",{children:[r&&e.jsx("div",{className:"px-4 py-8 text-sm text-gray-500 text-center",children:"Loading markets..."}),!r&&t.length===0&&e.jsx("div",{className:"px-4 py-12 text-sm text-gray-500 text-center",children:"No markets yet. Create your first market to get started."}),!r&&t.length>0&&e.jsx(k,{markets:t,onSelect:s})]})]})}const i=()=>{};function M({searchValue:t="",onSearchChange:r=i,onFilterClick:s=i,onRefreshClick:a=i}){return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm px-3 py-2.5 mb-6 flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1 min-w-0",children:[e.jsx(h,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Search in all markets",value:t,onChange:n=>r(n.target.value),className:"w-full pl-9 pr-3 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 text-sm transition-colors"})]}),e.jsx("button",{type:"button",title:"Filters",onClick:s,className:"p-2 rounded-lg hover:bg-blue-50 hover:text-blue-600 text-gray-500 transition-colors",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",title:"Refresh",onClick:a,className:"p-2 rounded-lg hover:bg-blue-50 hover:text-blue-600 text-gray-500 transition-colors",children:e.jsx(v,{className:"w-4 h-4"})})]})}const $=()=>{const t=p(),{markets:r,loading:s,getByStoreId:a}=f(),{activeStoreId:n}=j(),[c,d]=l.useState("");l.useEffect(()=>{n&&a(n)},[n,a]);const x=l.useCallback(()=>{t("/markets/new")},[]),m=l.useCallback(o=>{d(o)},[]);return e.jsx("div",{className:"min-h-screen bg-page-background-color",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 sm:px-4 py-4",children:[e.jsx(N,{onCreateMarket:x}),e.jsx(M,{searchValue:c,onSearchChange:m}),e.jsx(C,{markets:r,loading:s,onSelect:o=>t(`/markets/${o}`)})]})})};export{$ as default};
