import{j as e,g as M,r as s,u as B,t as F}from"./index-C7S6h9OR.js";import{M as g}from"./Modal-DsfhGJdg.js";import{F as b}from"./InformationCircleIcon-B4YRJG0O.js";import{F as R}from"./ArrowLeftIcon-C1qOxHB_.js";import{G as D}from"./GridBackgroundWrapper-Du1VLjut.js";import"./index-CCB_rw4P.js";const O=({open:a,onClose:t,paymentType:n,onPaymentTypeChange:r,country:i,onCountryChange:c,state:d,onStateChange:m,consent:o,onConsentChange:x})=>e.jsx(g,{open:a,onClose:t,title:"Add credit card",maxWidth:"md",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t,className:"px-3 py-1.5 text-sm font-medium text-gray-700 border border-gray-200 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{disabled:!o,className:`px-3 py-1.5 text-sm font-medium text-white transition-colors ${o?"bg-gray-900 hover:bg-gray-800":"bg-gray-400 cursor-not-allowed"}`,children:"Save card"})]}),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Payment method type"}),e.jsxs("select",{value:n,onChange:r,className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",children:[e.jsx("option",{value:"Credit card",children:"Credit card"}),e.jsx("option",{value:"Debit card",children:"Debit card"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Card number"}),e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Expires"}),e.jsx("input",{type:"text",placeholder:"MM / YY",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"CVV"}),e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]})]}),e.jsx("h3",{className:"text-sm font-medium text-gray-700 mt-2",children:"Billing address"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Country/region"}),e.jsxs("select",{value:i,onChange:c,className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",children:[e.jsx("option",{value:"India",children:"India"}),e.jsx("option",{value:"United States",children:"United States"})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"First name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Last name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",className:"w-full pl-10 pr-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Apartment, suite, etc"}),e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"City"}),e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"State"}),e.jsxs("select",{value:d,onChange:m,className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",children:[e.jsx("option",{value:"Andaman and Nicobar Islands",children:"Andaman and Nicobar Islands"}),e.jsx("option",{value:"Delhi",children:"Delhi"}),e.jsx("option",{value:"Maharashtra",children:"Maharashtra"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"PIN code"}),e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-sm",children:"ðŸ‡®ðŸ‡³ +91"}),e.jsx("input",{type:"text",className:"w-full pl-16 pr-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email"}),e.jsx("input",{type:"email",className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"consent",checked:o,onChange:x,className:"mt-1 w-4 h-4 text-gray-900 border-gray-300 focus:ring-gray-400"}),e.jsx("label",{htmlFor:"consent",className:"text-sm text-gray-900 font-medium",children:"I consent to having my card saved securely for future payments"})]}),o&&e.jsx("div",{className:"bg-blue-50 p-3 border border-blue-200 text-blue-900 text-sm",children:"You will be redirected to Razorpay to finish authentication and may be requested for a one-time mandate for â‚¹15,000. This will allow Ziplofy to automatically charge future bills below the mandate amount."})]})}),Y=({onManage:a})=>{const t=s.useCallback(r=>{a(r)},[a]),n=[{label:"Store address",value:"India",managePath:"/settings/general"},{label:"Currency",value:"INR (Indian Rupee)",managePath:void 0}];return e.jsxs("div",{className:"border border-gray-200 bg-white/95 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Address and currency"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"The options for your billing currency are determined by your billing address."}),n.map(r=>e.jsxs("div",{className:"border border-gray-200 p-3 mb-3 flex justify-between items-center last:mb-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:r.label}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r.value})]}),e.jsx("button",{onClick:()=>t(r.managePath),className:"px-3 py-1.5 border border-gray-200 text-xs text-gray-700 hover:bg-gray-50 transition-colors",children:"Manage"})]},r.label))]})},E=({onAddPayment:a})=>{const t=s.useCallback(()=>{a()},[a]);return e.jsxs("div",{className:"border border-gray-200 bg-white/95 mb-4 p-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900 mb-1",children:"Payment methods"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"For purchases and bills in Ziplofy"}),e.jsx("button",{onClick:t,className:"w-full px-3 py-2 border border-gray-200 text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-start",children:"+ Add payment method"})]})},Z=({onBack:a})=>{const t=s.useCallback(()=>{a()},[a]);return e.jsxs("div",{className:"flex items-center gap-3 mb-4 border-b border-gray-200 pb-4",children:[e.jsx("button",{onClick:t,className:"cursor-pointer p-1 text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(R,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Billing profile"})]})},$=({onAddGstin:a})=>{const t=s.useCallback(()=>{a()},[a]);return e.jsxs("div",{className:"border border-gray-200 bg-white/95 mb-4 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Tax ID"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Ziplofy is required to charge Goods and Services Tax (GST) in India. Your bills may be exempt from Indian GST if you are GST registered in India and enter a valid GSTIN."}),e.jsx("button",{onClick:t,className:"w-full px-3 py-2 border border-gray-200 text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-start",children:"+ Add GSTIN"})]})},L=({open:a,onClose:t,gstin:n,onGstinChange:r})=>e.jsx(g,{open:a,onClose:t,title:"Add tax info",maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t,className:"px-3 py-1.5 text-sm font-medium text-gray-700 border border-gray-200 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{disabled:n.trim().length!==15,className:`px-3 py-1.5 text-sm font-medium text-white transition-colors ${n.trim().length===15?"bg-gray-900 hover:bg-gray-800":"bg-gray-400 cursor-not-allowed"}`,children:"Add GSTIN"})]}),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Your Ziplofy bills may be exempt from Indian GST if you are GST registered in India and enter a valid GSTIN."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"GSTIN"}),e.jsx("input",{type:"text",placeholder:"15 digit identifier",value:n,onChange:r,className:"w-full px-3 py-1.5 text-sm border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]})]})}),J=()=>{const a=B(),t=F(),[n,r]=s.useState(!1),[i,c]=s.useState("Credit card"),[d,m]=s.useState("India"),[o,x]=s.useState("Andaman and Nicobar Islands"),[y,h]=s.useState(!1),[f,u]=s.useState(!1),[p,j]=s.useState("");s.useEffect(()=>{new URLSearchParams(t.search).get("showAddPaymentModal")==="true"&&r(!0)},[t.search]);const N=s.useCallback(()=>{a("/settings/billing")},[a]),v=s.useCallback(()=>{r(!0)},[]),C=s.useCallback(()=>{r(!1)},[]),k=s.useCallback(l=>{c(l.target.value)},[]),w=s.useCallback(l=>{m(l.target.value)},[]),S=s.useCallback(l=>{x(l.target.value)},[]),I=s.useCallback(l=>{h(l.target.checked)},[]),P=s.useCallback(()=>{u(!0)},[]),G=s.useCallback(()=>{u(!1)},[]),A=s.useCallback(l=>{j(l.target.value)},[]),T=s.useCallback(l=>{l&&a(l)},[a]);return e.jsx(D,{children:e.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[e.jsx(Z,{onBack:N}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Your payment methods, tax ID, billing currency and store address"}),e.jsx(E,{onAddPayment:v}),e.jsx($,{onAddGstin:P}),e.jsx(Y,{onManage:T}),e.jsx(O,{open:n,onClose:C,paymentType:i,onPaymentTypeChange:k,country:d,onCountryChange:w,state:o,onStateChange:S,consent:y,onConsentChange:I}),e.jsx(L,{open:f,onClose:G,gstin:p,onGstinChange:A})]})})};export{J as default};
