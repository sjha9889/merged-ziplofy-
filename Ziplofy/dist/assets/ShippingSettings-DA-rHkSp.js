import{r as l,j as e,k as ee,i as P,y as Re,u as se,aD as Le,b as Ie,a2 as We,a$ as $e,Y as Ze}from"./index-C7S6h9OR.js";import{M as j}from"./Modal-DsfhGJdg.js";import{S as g}from"./Select-DGEw1X1o.js";import{T as te}from"./ToggleSwitch-DRYMOlwW.js";import{F as b}from"./InformationCircleIcon-B4YRJG0O.js";import{F as k}from"./ChevronRightIcon-CVun6pAX.js";import{G as _e}from"./GridBackgroundWrapper-Du1VLjut.js";import{D as Ae,a as X}from"./DropdownMenuItem-mg0iuV3h.js";import{F as Be}from"./PencilIcon-MufFKs4H.js";import{F as Ve}from"./TrashIcon-B2-WJkmb.js";import{F as ae}from"./TruckIcon-BgeMuXfC.js";import{F as qe}from"./EllipsisVerticalIcon-BmYIkkbK.js";import"./index-CCB_rw4P.js";function ze({title:s,titleId:a,...t},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),s?l.createElement("title",{id:a},s):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}))}const He=l.forwardRef(ze),Ge=({open:s,onClose:a,formData:t,onFormChange:r,onSubmit:c})=>{const d=[{value:"box",label:"Box"},{value:"envelope",label:"Envelope"},{value:"soft_package",label:"Soft Package"}],u=[{value:"cm",label:"Centimeters (cm)"},{value:"in",label:"Inches (in)"}],h=[{value:"g",label:"Grams (g)"},{value:"kg",label:"Kilograms (kg)"},{value:"oz",label:"Ounces (oz)"},{value:"lb",label:"Pounds (lb)"}];return e.jsx(j,{open:s,onClose:a,title:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Add New Package"}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(ee,{className:"w-5 h-5"})})]}),maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors",children:"Add Package"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Package Name"}),e.jsx("input",{type:"text",value:t.packageName,onChange:i=>r("packageName",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]}),e.jsx("div",{children:e.jsx(g,{label:"Package Type",value:t.packageType,options:d,onChange:i=>r("packageType",i),placeholder:"Select package type"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Dimensions"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length"}),e.jsx("input",{type:"number",value:t.length,onChange:i=>r("length",i.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width"}),e.jsx("input",{type:"number",value:t.width,onChange:i=>r("width",i.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]}),t.packageType!=="envelope"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height"}),e.jsx("input",{type:"number",value:t.height,onChange:i=>r("height",i.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(g,{label:"Unit",value:t.dimensionsUnit,options:u,onChange:i=>r("dimensionsUnit",i),placeholder:"Select unit"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Weight"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),e.jsx("input",{type:"number",value:t.weight,onChange:i=>r("weight",i.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]}),e.jsx("div",{children:e.jsx(g,{label:"Unit",value:t.weightUnit,options:h,onChange:i=>r("weightUnit",i),placeholder:"Select unit"})})]})]}),e.jsx("div",{children:e.jsx(te,{checked:t.isDefault,onChange:i=>r("isDefault",i),label:"Set as default package"})})]})})},Ye=({onAddClick:s})=>e.jsxs("div",{className:"bg-white/95 border border-gray-200 p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Custom order fulfillment"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Add an email for a custom fulfillment service that fulfills orders for you"}),e.jsxs("button",{onClick:s,className:"px-3 py-1.5 text-xs font-medium border border-gray-200 bg-gray-50 text-gray-700 hover:bg-gray-100 transition-colors flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Add fulfillment service"]})]}),Ke=({open:s,onClose:a,onConfirm:t,packageName:r})=>e.jsx(j,{open:s,onClose:a,title:"Delete Package",maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"No, Cancel"}),e.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Yes, Delete"})]}),children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-base text-gray-900",children:["Do you really want to delete this package ",e.jsxs("strong",{children:['"',r,'"']}),"?"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This action cannot be undone."})]})}),Je=({onAddClick:s})=>e.jsxs("div",{className:"bg-white/95 border border-gray-200 p-4 mb-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900 mb-1",children:"Delivery customizations"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Customizations control how delivery options appear to buyers at checkout. You can hide, reorder, and rename delivery options."})]}),e.jsxs("button",{onClick:s,className:"px-3 py-1.5 text-xs font-medium border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Add delivery customization"]})]}),Qe=({estimatedDeliveryMode:s,onEstimatedDeliveryClick:a,onShopPromiseClick:t})=>{const r=()=>s==="manual"?"Manual":"Off";return e.jsxs("div",{className:"bg-white/95 border border-gray-200 p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Delivery expectations"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsxs("div",{onClick:a,className:"flex justify-between items-center pb-4 cursor-pointer hover:bg-gray-50 transition-colors -mx-4 px-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Estimated delivery dates"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Increase conversion and build trust with delivery dates on your store."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium border border-gray-200 ${s==="manual"?"bg-gray-100 text-gray-900":"bg-white text-gray-600"}`,children:r()}),e.jsx(k,{className:"w-4 h-4 text-gray-500"})]})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{onClick:t,className:"flex justify-between items-center pt-4 cursor-pointer hover:bg-gray-50 transition-colors -mx-4 px-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Shop Promise"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Highlight that you're an exceptional shipper with dates backed by a badge and guarantee."})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium border border-gray-200",children:"Off"}),e.jsx(k,{className:"w-4 h-4 text-gray-500"})]})]})]})},Xe=({open:s,onClose:a,formData:t,onFormChange:r,onSubmit:c})=>{const d=[{value:"box",label:"Box"},{value:"envelope",label:"Envelope"},{value:"soft_package",label:"Soft Package"}],u=[{value:"cm",label:"Centimeters (cm)"},{value:"in",label:"Inches (in)"}],h=[{value:"g",label:"Grams (g)"},{value:"kg",label:"Kilograms (kg)"},{value:"oz",label:"Ounces (oz)"},{value:"lb",label:"Pounds (lb)"}];return e.jsx(j,{open:s,onClose:a,title:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Edit Package"}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(ee,{className:"w-5 h-5"})})]}),maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors",children:"Save Changes"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Package Name"}),e.jsx("input",{type:"text",value:t.packageName,onChange:i=>r("packageName",i.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]}),e.jsx("div",{children:e.jsx(g,{label:"Package Type",value:t.packageType,options:d,onChange:i=>r("packageType",i),placeholder:"Select package type"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Dimensions"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length"}),e.jsx("input",{type:"number",value:t.length,onChange:i=>r("length",i.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width"}),e.jsx("input",{type:"number",value:t.width,onChange:i=>r("width",i.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]}),t.packageType!=="envelope"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height"}),e.jsx("input",{type:"number",value:t.height,onChange:i=>r("height",i.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:t.packageType!=="envelope"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(g,{label:"Unit",value:t.dimensionsUnit,options:u,onChange:i=>r("dimensionsUnit",i),placeholder:"Select unit"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Weight"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight"}),e.jsx("input",{type:"number",value:t.weight,onChange:i=>r("weight",i.target.value),min:"0",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900",required:!0})]}),e.jsx("div",{children:e.jsx(g,{label:"Unit",value:t.weightUnit,options:h,onChange:i=>r("weightUnit",i),placeholder:"Select unit"})})]})]}),e.jsx("div",{children:e.jsx(te,{checked:t.isDefault,onChange:i=>r("isDefault",i),label:"Set as default package"})})]})})},es=({open:s,onClose:a,estimatedDeliveryMode:t,onEstimatedDeliveryModeChange:r,estimatedFulfillmentTime:c,onEstimatedFulfillmentTimeChange:d,estimatedCustomTime:u,onEstimatedCustomTimeChange:h,estimatedCustomUnit:i,onEstimatedCustomUnitChange:v,onSave:y})=>{const N=[{value:"same-business-day",label:"Same business day"},{value:"next-business-day",label:"Next business day"},{value:"two-business-days",label:"2 business days"},{value:"custom",label:"Custom"}],w=[{value:"business-days",label:"business days"},{value:"weeks",label:"weeks"}];return e.jsx(j,{open:s,onClose:a,title:"Estimated delivery dates",maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-900 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors",children:"Save"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border border-gray-200 rounded-lg p-5 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:!0,readOnly:!0,className:"w-4 h-4 text-gray-900 border-gray-300 focus:ring-gray-900"}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:"Standard"})]}),e.jsx("p",{className:"text-sm text-gray-600 ml-7 mt-1",children:"Tuesday, May 27â€“Friday, May 30"})]}),e.jsx("p",{className:"font-semibold text-gray-900",children:"â‚¹10.00"})]})}),e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:t==="off",onChange:()=>r("off"),className:"mt-1 w-4 h-4 text-gray-900 border-gray-300 focus:ring-gray-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-semibold text-gray-900",children:"Off"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Only shows transit time or custom descriptions based on your"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"shipping rates"})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:t==="manual",onChange:()=>r("manual"),className:"mt-1 w-4 h-4 text-gray-900 border-gray-300 focus:ring-gray-900"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-semibold text-gray-900",children:"Manual"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Shows a delivery date range by adding your fulfillment time to the"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"transit time"})]})]})]})]})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Fulfillment time"}),e.jsx(g,{label:"",value:c,options:N,onChange:d,disabled:t!=="manual",placeholder:"Select fulfillment time"})]}),t==="manual"&&c==="custom"&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Custom time"}),e.jsx("input",{type:"text",value:u,onChange:p=>h(p.target.value.replace(/[^0-9]/g,"")),placeholder:"Enter number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Unit"}),e.jsx(g,{label:"",value:i,options:w,onChange:p=>v(p),placeholder:"Select unit"})]})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Used to calculate manual dates"})]})})},ss=({loading:s,creating:a,hasSettings:t,onButtonClick:r})=>{const c=()=>s||a?"Loading...":t?"Manage":"Set up";return e.jsx("div",{className:"bg-white/95 border border-gray-200 p-4 mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Local delivery"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Deliver orders to customers directly from your locations"})]}),e.jsx("button",{disabled:s||a,onClick:r,className:"px-3 py-1.5 text-xs font-medium border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c()})]})})},ts=({open:s,onClose:a,onConfirm:t,creating:r})=>{const c=()=>{r||a()};return e.jsx(j,{open:s,onClose:c,title:"Enable local delivery?",maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,disabled:r,className:"px-4 py-2 text-gray-700 rounded-md hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"No"}),e.jsx("button",{onClick:t,disabled:r,className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Yes"})]}),children:e.jsx("p",{className:"text-base text-gray-900",children:"Do you really want to set up local delivery for this store?"})})},as=({activeRulesCount:s=3,onRoutingRulesClick:a})=>e.jsxs("div",{className:"bg-white/95 border border-gray-200 p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Order routing"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Manage how locations are assigned to new orders"}),e.jsxs("div",{onClick:a,className:"p-3 border border-gray-200 bg-white cursor-pointer hover:bg-gray-50 transition-colors flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[s," routing rules active"]}),e.jsx(k,{className:"w-4 h-4 text-gray-500"})]})]}),rs=({anchorEl:s,open:a,onClose:t,onEdit:r,onDelete:c})=>e.jsxs(Ae,{anchorEl:s,open:a,onClose:t,children:[e.jsx(X,{onClick:r,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Be,{className:"w-4 h-5 text-gray-500"}),e.jsx("span",{children:"Edit"})]})}),e.jsx(X,{onClick:c,children:e.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[e.jsx(Ve,{className:"w-4 h-5"}),e.jsx("span",{children:"Delete"})]})})]}),ls=({package:s,index:a,totalPackages:t,onMenuOpen:r})=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsx(ae,{className:"w-6 h-6 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-medium text-gray-900 mb-1",children:s.packageName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," Ã— ",s.width," Ã— ",s.height," ",s.dimensionsUnit,", ",s.weight," ",s.weightUnit]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[s.isDefault&&e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-normal rounded",children:"Store default"}),e.jsx("button",{onClick:c=>r(c,s._id),className:"p-1 text-gray-500 hover:bg-gray-100 rounded transition-colors",children:e.jsx(qe,{className:"w-5 h-5"})})]})]}),a<t-1&&e.jsx("div",{className:"border-t border-gray-200"})]}),is=({packages:s,onMenuOpen:a})=>s.length===0?null:e.jsx("div",{children:s.map((t,r)=>e.jsx(ls,{package:t,index:r,totalPackages:s.length,onMenuOpen:a},t._id))}),ns=({packages:s,onMenuOpen:a,onAddPackage:t})=>s.length===0?null:e.jsxs("div",{children:[e.jsx(is,{packages:s,onMenuOpen:a}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("button",{onClick:t,className:"flex items-center gap-2 py-3 text-blue-600 hover:bg-gray-50 rounded transition-colors w-full",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"text-base font-normal",children:"Add package"})]})]}),os=({onSetUpClick:s})=>e.jsx("div",{className:"bg-white/95 border border-gray-200 p-4 mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Pickup in store"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Let customers pick up their orders at your locations"})]}),e.jsx("button",{onClick:s,className:"px-3 py-1.5 text-xs font-medium border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors",children:"Set up"})]})}),cs=({open:s,onClose:a,rateShippingFrom:t,onRateShippingFromChange:r,rateShippingSearch:c,onRateShippingSearchChange:d,ratePackageId:u,onRatePackageIdChange:h,rateWeight:i,onRateWeightChange:v,rateWeightUnit:y,onRateWeightUnitChange:N,packagings:w})=>{const p=[{value:"shop-location",label:"Shop location"},{value:"custom-origin",label:"Custom origin"}],D=[{value:"lb",label:"lb"},{value:"kg",label:"kg"}],C=w.length===0?[{value:"",label:"No packages available"}]:w.map(m=>({value:m._id,label:`${m.packageName} â€¢ ${m.length} Ã— ${m.width} Ã— ${m.height} ${m.dimensionsUnit}, ${m.weight} ${m.weightUnit}`}));return e.jsx(j,{open:s,onClose:a,title:"Shipping rate calculator",maxWidth:"md",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-900 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{disabled:!0,className:"px-4 py-2 bg-gray-300 text-gray-500 rounded-md cursor-not-allowed",children:"Calculate discounted rates"})]}),children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Shipping from"}),e.jsx(g,{label:"",value:t,options:p,onChange:r,placeholder:"Select origin"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Shipping to"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-lg",children:"ðŸ‡®ðŸ‡³"}),e.jsx("input",{type:"text",value:c,onChange:m=>d(m.target.value),placeholder:"Search destination",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Package"}),e.jsx(g,{label:"",value:u||"",options:C,onChange:h,placeholder:"Select package"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Total weight"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:m=>v(m.target.value.replace(/[^0-9.]/g,"")),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900"}),e.jsx(g,{label:"",value:y,options:D,onChange:m=>N(m),placeholder:"Unit"})]})]})]}),e.jsx("div",{className:"flex-1 md:flex-[0.8] md:border-l md:border-gray-100 md:pl-6 flex items-center justify-center text-center text-gray-600",children:"Calculate how much you'll save when you buy labels at discounted rates from Ziplofy"})]})})},ds=({onCustomizeStoreNameClick:s,onPackingSlipTemplateClick:a})=>e.jsxs("div",{className:"border border-gray-200 bg-white/95 p-4 mb-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900 mb-3",children:"Shipping documents"}),e.jsxs("div",{children:[e.jsxs("div",{onClick:s,className:"flex justify-between items-center py-2 cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("p",{className:"text-xs text-gray-900",children:"Customize store name on shipping labels"}),e.jsx(k,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{onClick:a,className:"flex justify-between items-center py-2 cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("p",{className:"text-xs text-gray-900",children:"Packing slip template"}),e.jsx(k,{className:"w-4 h-4 text-gray-500"})]})]})]}),ms=({onCalculateRatesClick:s})=>e.jsx("div",{className:"border border-gray-200 bg-white/95 p-4 mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Shipping labels"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Buy labels with the lowest rates. Manage your carriers to fulfill orders faster."})]}),e.jsxs("button",{onClick:s,className:"px-3 py-1.5 text-sm font-medium border border-gray-200 text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-2",children:[e.jsx(He,{className:"w-4 h-4"}),"Calculate rates"]})]})}),xs=({profileId:s,profileName:a,onClick:t})=>e.jsxs("div",{onClick:t,className:"p-3 mb-3 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(Re,{className:"w-4 h-4 text-gray-500"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a})]}),e.jsx(k,{className:"w-4 h-4 text-gray-500"})]},s),gs=({profiles:s})=>{const a=se();return s.length===0?null:e.jsx("div",{className:"mb-4",children:s.map(t=>e.jsx(xs,{profileId:t._id,profileName:t.profileName,onClick:()=>a(`/settings/shipping-and-delivery/profiles/${t._id}`)},t._id))})},hs=({open:s,onClose:a,splitShipping:t,onSplitShippingChange:r,onSave:c})=>e.jsx(j,{open:s,onClose:a,title:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Split shipping in checkout"}),e.jsx(b,{className:"w-5 h-5 text-gray-400"})]}),maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-900 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors",children:"Save"})]}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:d=>r(d.target.checked),className:"mt-1 w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-900"}),e.jsx("div",{children:e.jsx("p",{className:"text-base font-semibold text-gray-900",children:"Show split shipping in checkout"})})]}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Shipping is split when products in an order are fulfilled from different locations or belong to separate shipping profiles. Customers will be able to select the shipping method for each shipment separately."})]})}),us=({splitShipping:s,onToggle:a,onManage:t})=>e.jsx("div",{className:"mt-4 border border-gray-200 bg-white/95 px-4 py-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Split shipping"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Show products from different profiles or locations as separate shipments in checkout."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:a,className:`px-2 py-1 text-xs font-medium transition-colors border border-gray-200 ${s?"bg-gray-100 text-gray-900":"bg-white text-gray-600 hover:bg-gray-50"}`,children:s?"On":"Off"}),e.jsx("button",{onClick:r=>{r.preventDefault(),t()},className:"text-gray-700 hover:text-gray-900 text-xs transition-colors",children:"Manage"})]})]})}),ps=({onUpgradeClick:s,onLearnMoreClick:a})=>e.jsx("div",{className:"bg-white/95 border border-gray-200 p-4 mb-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900 mb-1",children:"Enable third-party calculated rates at checkout"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Connect your existing shipping carrier account to use your own rates"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:s,className:"px-3 py-1.5 text-xs font-medium border border-gray-200 bg-gray-50 text-gray-700 hover:bg-gray-100 transition-colors",children:"Upgrade your plan"}),e.jsx("a",{href:"#",onClick:t=>{a&&(t.preventDefault(),a())},className:"text-gray-700 hover:text-gray-900 text-xs transition-colors",children:"Learn more"})]})]}),e.jsx("div",{className:"ml-4 w-16 h-16 flex items-center justify-center shrink-0",children:e.jsx(ae,{className:"w-12 h-12 text-gray-400"})})]})}),Es=()=>{const s=se(),{packagings:a,createPackaging:t,updatePackaging:r,deletePackaging:c}=Le(),{activeStoreId:d}=Ie(),{shippingProfiles:u,getShippingProfilesByStoreId:h}=We(),{settings:i,fetchLocalDeliverySettingsByStoreId:v,loading:y,createLocalDeliverySettings:N}=$e(),[w,p]=l.useState(!1),[D,C]=l.useState(!1),[m,M]=l.useState(null),[re,O]=l.useState(!1),[U,E]=l.useState(null),[$,Z]=l.useState(!0),[_,A]=l.useState(null),[f,B]=l.useState(null),[le,T]=l.useState(!1),[ie,V]=l.useState(!1),[ne,oe]=l.useState("shop-location"),[bs,ys]=l.useState("IN"),[ce,de]=l.useState(""),[F,q]=l.useState(null),[me,xe]=l.useState("1"),[ge,he]=l.useState("lb"),[ue,R]=l.useState(!1),[z,pe]=l.useState("manual"),[be,ye]=l.useState("next-business-day"),[fe,je]=l.useState(""),[ve,Ne]=l.useState("business-days"),[we,L]=l.useState(!1),[H,G]=l.useState(!1),ke=l.useCallback(()=>{y||(i?._id?s(`/settings/shipping-and-delivery/local_deliveries/${i._id}`):L(!0))},[y,i,s]),Ce=l.useCallback(async()=>{if(d)try{G(!0),await N({storeId:d}),L(!1)}catch(n){console.error("Failed to create local delivery settings:",n)}finally{G(!1)}},[d,N]),[o,I]=l.useState({packageName:"",packageType:"box",length:"",width:"",height:"",dimensionsUnit:"cm",weight:"",weightUnit:"kg",isDefault:!1}),Y=l.useCallback(()=>{p(!0),I({packageName:"",packageType:"box",length:"",width:"",height:"",dimensionsUnit:"cm",weight:"",weightUnit:"kg",isDefault:!1})},[]),Se=l.useCallback(()=>p(!1),[]),K=l.useCallback((n,x)=>{I(W=>({...W,[n]:x}))},[]),Ue=l.useCallback(async()=>{if(!d)return;const n={storeId:d,packageName:o.packageName,packageType:o.packageType,length:parseFloat(o.length),width:parseFloat(o.width),height:o.packageType==="envelope"?0:parseFloat(o.height),dimensionsUnit:o.dimensionsUnit,weight:parseFloat(o.weight),weightUnit:o.weightUnit,isDefault:o.isDefault};await t(n),p(!1)},[d,o,t]),J=l.useCallback(n=>{const x=a.find(W=>W._id===n);x&&(M(n),I({packageName:x.packageName,packageType:x.packageType,length:String(x.length),width:String(x.width),height:String(x.height),dimensionsUnit:x.dimensionsUnit,weight:String(x.weight),weightUnit:x.weightUnit,isDefault:x.isDefault}),C(!0))},[a]),Pe=l.useCallback(()=>{C(!1),M(null)},[]),De=l.useCallback(async()=>{if(!m)return;const n={packageName:o.packageName,packageType:o.packageType,length:parseFloat(o.length),width:parseFloat(o.width),height:o.packageType==="envelope"?0:parseFloat(o.height),dimensionsUnit:o.dimensionsUnit,weight:parseFloat(o.weight),weightUnit:o.weightUnit,isDefault:o.isDefault};await r(m,n),C(!1),M(null)},[m,o,r]),Q=l.useCallback((n,x)=>{E({id:n,name:x}),O(!0)},[]),Me=l.useCallback(async()=>{U&&(await c(U.id),O(!1),E(null))},[U,c]),Oe=l.useCallback(()=>{O(!1),E(null)},[]),Ee=l.useCallback((n,x)=>{A(n.currentTarget),B(x)},[]),S=l.useCallback(()=>{A(null),B(null)},[]),Te=l.useCallback(()=>{f&&(J(f),S())},[f,J,S]),Fe=l.useCallback(()=>{if(f){const n=a.find(x=>x._id===f);n&&(Q(f,n.packageName),S())}},[f,a,Q,S]);return l.useEffect(()=>{d&&(h(d).catch(n=>{console.error("Failed to fetch shipping profiles:",n)}),v(d).catch(n=>{console.error("Failed to fetch local delivery settings:",n)}))},[d,h,v]),l.useEffect(()=>{a.length>0&&!F&&q(a[0]._id)},[a,F]),e.jsx(_e,{children:e.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[e.jsx("h1",{className:"text-xl font-medium text-gray-900 mb-4 border-b border-gray-200 pb-4",children:"Shipping and Delivery Settings"}),e.jsxs("div",{className:"border border-gray-200 bg-white/95 p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Shipping"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Manage where you ship and how much you charge"}),e.jsx(gs,{profiles:u}),e.jsx(Ze,{to:"/settings/shipping-and-delivery/profiles/create",className:"text-gray-600 hover:text-gray-900 transition-colors text-xs block mb-4",children:"Create a custom profile to set different rates or restrict destinations for specific products"}),e.jsx(us,{splitShipping:$,onToggle:()=>Z(n=>!n),onManage:()=>T(!0)})]}),e.jsx(hs,{open:le,onClose:()=>T(!1),splitShipping:$,onSplitShippingChange:n=>Z(n),onSave:()=>T(!1)}),e.jsx(es,{open:ue,onClose:()=>R(!1),estimatedDeliveryMode:z,onEstimatedDeliveryModeChange:n=>pe(n),estimatedFulfillmentTime:be,onEstimatedFulfillmentTimeChange:n=>ye(n),estimatedCustomTime:fe,onEstimatedCustomTimeChange:n=>je(n),estimatedCustomUnit:ve,onEstimatedCustomUnitChange:n=>Ne(n),onSave:()=>R(!1)}),e.jsx(cs,{open:ie,onClose:()=>V(!1),rateShippingFrom:ne,onRateShippingFromChange:n=>oe(n),rateShippingSearch:ce,onRateShippingSearchChange:n=>de(n),ratePackageId:F,onRatePackageIdChange:n=>q(n),rateWeight:me,onRateWeightChange:n=>xe(n),rateWeightUnit:ge,onRateWeightUnitChange:n=>he(n),packagings:a}),e.jsx(ms,{onCalculateRatesClick:()=>V(!0)}),e.jsx(Qe,{estimatedDeliveryMode:z,onEstimatedDeliveryClick:()=>R(!0)}),e.jsx(as,{}),e.jsx(ss,{loading:y,creating:H,hasSettings:!!i,onButtonClick:ke}),e.jsx(os,{}),e.jsx(Je,{}),e.jsxs("div",{className:"border border-gray-200 bg-white/95 p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900",children:"Packages"}),e.jsx(b,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Used to calculate shipping rates at checkout and pre-selected when buying labels"}),e.jsx(ns,{packages:a,onMenuOpen:Ee,onAddPackage:Y}),a.length===0&&e.jsxs("button",{onClick:Y,className:"flex items-center gap-2 py-2 text-gray-700 hover:bg-gray-50 transition-colors w-full text-sm",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Add package"})]})]}),e.jsx(rs,{anchorEl:_,open:!!_,onClose:S,onEdit:Te,onDelete:Fe}),e.jsx(ps,{}),e.jsx(ds,{}),e.jsx(Ye,{}),e.jsx(Ge,{open:w,onClose:Se,formData:o,onFormChange:K,onSubmit:Ue}),e.jsx(ts,{open:we,onClose:()=>L(!1),onConfirm:Ce,creating:H}),e.jsx(Xe,{open:D,onClose:Pe,formData:o,onFormChange:K,onSubmit:De}),e.jsx(Ke,{open:re,onClose:Oe,onConfirm:Me,packageName:U?.name})]})})};export{Es as default};
