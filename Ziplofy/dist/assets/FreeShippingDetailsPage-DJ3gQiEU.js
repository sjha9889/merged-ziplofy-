import{j as e,p as j,u,b as N,G as y,r as c}from"./index-C7S6h9OR.js";import{C as g,D as b,a as v}from"./ChipList-Bp0Q8baA.js";import{G as m}from"./GridBackgroundWrapper-Du1VLjut.js";import"./ArrowLeftIcon-C1qOxHB_.js";const C=({method:t,discountCode:r,title:a,eligibility:i,applyOnPOSPro:n,status:d,createdAt:x,updatedAt:s})=>{const o=h=>h?"Yes":"No";return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"General Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Method"}),e.jsx("p",{className:"text-sm text-gray-900",children:t})]}),t==="discount-code"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Code"}),e.jsx("p",{className:"text-sm text-gray-900",children:r})]}),t==="automatic"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Title"}),e.jsx("p",{className:"text-sm text-gray-900",children:a})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Eligibility"}),e.jsx("p",{className:"text-sm text-gray-900",children:i})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Apply on POS Pro"}),e.jsx("p",{className:"text-sm text-gray-900",children:o(n)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Status"}),e.jsx("p",{className:"text-sm text-gray-900",children:d})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Created At"}),e.jsx("p",{className:"text-sm text-gray-900",children:x?new Date(x).toLocaleDateString():"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-900",children:s?new Date(s).toLocaleDateString():"-"})]})]})]})},S=({countrySelection:t,selectedCountryCodes:r,excludeShippingRates:a,shippingRateLimit:i})=>{const n=d=>d?"Yes":"No";return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Country & Rates"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Country Selection"}),e.jsx("p",{className:"text-sm text-gray-900",children:t})]}),t==="selected-countries"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Selected Country Codes"}),e.jsx("p",{className:"text-sm text-gray-900",children:(r||[]).join(", ")||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Exclude Shipping Rates"}),e.jsx("p",{className:"text-sm text-gray-900",children:n(a)})]}),a&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Shipping Rate Limit"}),e.jsx("p",{className:"text-sm text-gray-900",children:i})]})]})]})},f=({minimumPurchase:t,minimumAmount:r,minimumQuantity:a})=>e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Minimum Purchase"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Requirement"}),e.jsx("p",{className:"text-sm text-gray-900",children:t})]}),t==="minimum-amount"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Amount"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["â‚¹",r]})]}),t==="minimum-quantity"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Quantity"}),e.jsx("p",{className:"text-sm text-gray-900",children:a})]})]})]}),D=({allowDiscountOnChannels:t,limitTotalUses:r,totalUsesLimit:a,limitOneUsePerCustomer:i})=>{const n=d=>d?"Yes":"No";return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Sales Channel & Limits"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Allow on Channels"}),e.jsx("p",{className:"text-sm text-gray-900",children:n(t)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Limit Total Uses"}),e.jsx("p",{className:"text-sm text-gray-900",children:n(r)})]}),r&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Uses Limit"}),e.jsx("p",{className:"text-sm text-gray-900",children:a})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"One Use Per Customer"}),e.jsx("p",{className:"text-sm text-gray-900",children:n(i)})]})]})]})},w=({productDiscounts:t,orderDiscounts:r})=>{const a=i=>i?"Yes":"No";return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Combinations"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Product Discounts"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(t)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Order Discounts"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(r)})]})]})]})},L=({startDate:t,startTime:r,setEndDate:a,endDate:i,endTime:n})=>{const d=x=>x?"Yes":"No";return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Active Dates"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Start Date"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[t," ",r?`at ${r}`:""]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Set End Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:d(a)})]}),a&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"End Date"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[i," ",n?`at ${n}`:""]})]})]})]})},P=({targetCustomerSegmentIds:t,segmentLabel:r})=>!t||t.length===0?null:e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Target Customer Segments"}),e.jsx(g,{items:t.map((a,i)=>({key:a?._id||i.toString(),label:r(a)}))})]}),F=({targetCustomerIds:t,customerLabel:r})=>!t||t.length===0?null:e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Target Customers"}),e.jsx(g,{items:t.map((a,i)=>({key:a?._id||i.toString(),label:r(a)}))})]}),R=()=>{const{id:t}=j(),r=u(),{activeStoreId:a}=N(),{discounts:i,fetchDiscountsByStoreId:n,loading:d,error:x}=y(),s=i.find(l=>l._id===t);c.useEffect(()=>{a&&!i.length&&n(a)},[a,i.length,n]);const o=c.useCallback(()=>{r("/discounts")},[r]);c.useCallback(l=>l?"Yes":"No",[]);const h=c.useCallback(l=>l?.name||l?._id,[]),p=c.useCallback(l=>`${l?.firstName||""} ${l?.lastName||""}`.trim()||l?.email||l?._id,[]);return d?e.jsx(m,{children:e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"w-6 h-6 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})})}):x?e.jsx(m,{children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4",children:e.jsx("div",{className:"p-3 bg-red-50 border border-red-200",children:e.jsx("p",{className:"text-sm text-red-800",children:x})})})}):s?e.jsx(m,{children:e.jsx("div",{className:"min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(v,{method:s.method,discountCode:s.discountCode,title:s.title,value:"Free Shipping",status:s.status,onBack:o}),e.jsx(C,{method:s.method,discountCode:s.discountCode,title:s.title,eligibility:s.eligibility,applyOnPOSPro:s.applyOnPOSPro,status:s.status,createdAt:s.createdAt,updatedAt:s.updatedAt}),e.jsx(S,{countrySelection:s.countrySelection,selectedCountryCodes:s.selectedCountryCodes,excludeShippingRates:s.excludeShippingRates,shippingRateLimit:s.shippingRateLimit}),e.jsx(f,{minimumPurchase:s.minimumPurchase,minimumAmount:s.minimumAmount,minimumQuantity:s.minimumQuantity}),e.jsx(D,{allowDiscountOnChannels:s.allowDiscountOnChannels,limitTotalUses:s.limitTotalUses,totalUsesLimit:s.totalUsesLimit,limitOneUsePerCustomer:s.limitOneUsePerCustomer}),e.jsx(w,{productDiscounts:s.productDiscounts,orderDiscounts:s.orderDiscounts}),e.jsx(L,{startDate:s.startDate,startTime:s.startTime,setEndDate:s.setEndDate,endDate:s.endDate,endTime:s.endTime}),s.targetCustomerSegmentIds&&s.targetCustomerSegmentIds.length>0&&e.jsx(P,{targetCustomerSegmentIds:s.targetCustomerSegmentIds,segmentLabel:h}),s.targetCustomerIds&&s.targetCustomerIds.length>0&&e.jsx(F,{targetCustomerIds:s.targetCustomerIds,customerLabel:p})]})})})}):e.jsx(m,{children:e.jsx(b,{})})};export{R as default};
