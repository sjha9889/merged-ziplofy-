import{j as e,ay as w,b as v,r as t,i as T,u as C}from"./index-C7S6h9OR.js";import{D as k}from"./DeleteTagConfirmationModal-CirntNIH.js";import{F as D}from"./TrashIcon-B2-WJkmb.js";import{F as P}from"./ArrowLeftIcon-C1qOxHB_.js";import"./Modal-DsfhGJdg.js";import"./index-CCB_rw4P.js";const S=({tag:s,onDeleteClick:a})=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("button",{onClick:()=>a(s),className:"cursor-pointer p-1.5 hover:bg-red-50 rounded-lg transition-colors","aria-label":"Delete product type",children:e.jsx(D,{className:"w-4 h-4 text-gray-600 hover:text-red-600"})})})]}),F=({tags:s,loading:a,onDeleteClick:o})=>a?e.jsx("div",{className:"text-sm text-gray-500 py-6 text-center",children:"Loading tags..."}):s.length===0?e.jsx("div",{className:"text-sm text-gray-500 py-6 text-center",children:"No tags yet."}):e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Tag Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(n=>e.jsx(S,{tag:n,onDeleteClick:o},n._id))})]})}),I=()=>{const{productTypes:s,loading:a,error:o,createProductType:n,getProductTypesByStoreId:p,deleteProductType:x}=w(),{activeStoreId:r}=v(),[l,u]=t.useState(""),[c,d]=t.useState(null),[g,i]=t.useState(!1),h=t.useMemo(()=>l.trim().length>0&&!!r,[l,r]),b=t.useCallback(m=>{u(m.target.value)},[]),y=t.useCallback(async()=>{!r||!l.trim()||(await n({storeId:r,name:l.trim()}),u(""))},[r,l,n]),f=t.useCallback(m=>{d(m),i(!0)},[]),N=t.useCallback(async()=>{c&&(await x(c._id),i(!1),d(null))},[c,x]),j=t.useCallback(()=>{i(!1),d(null)},[]);return t.useEffect(()=>{r&&p(r)},[r]),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-4",children:"Product types"}),e.jsxs("div",{className:"flex gap-3 mb-4",children:[e.jsx("input",{type:"text",placeholder:"Add new product type",value:l,onChange:b,className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-colors text-sm"}),e.jsxs("button",{disabled:!h||a,onClick:y,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(T,{className:"w-4 h-4"}),"Add"]})]}),o&&e.jsx("p",{className:"text-sm text-red-600 mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:o}),e.jsx(F,{tags:s,loading:a,onDeleteClick:f}),e.jsx(k,{isOpen:g,tagName:c?.name||"",onConfirm:N,onCancel:j})]})},L=()=>{const s=C(),a=()=>{s("/tag-management")};return e.jsx("div",{className:"min-h-screen bg-page-background-color",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 sm:px-4 py-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-700 mb-3 transition-colors",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Product Types"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage product type tags"})]}),e.jsx(I,{})]})})};export{L as default};
