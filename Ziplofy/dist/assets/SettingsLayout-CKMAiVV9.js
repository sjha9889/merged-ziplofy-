import{r as i,j as t,M as y,F,aI as k,X as v,aa as C,z as u,N as $,L as N,t as R,u as S,aL as E}from"./index-C7S6h9OR.js";import{F as A}from"./ArrowLeftIcon-C1qOxHB_.js";import{F as L}from"./StarIcon-faDGZ0vd.js";import{F as g}from"./CreditCardIcon-CFitIXWG.js";import{F as I}from"./IdentificationIcon-CN2vPw4S.js";import{F as M}from"./LockClosedIcon-KhBBg3tm.js";import{F as B}from"./TruckIcon-BgeMuXfC.js";import{F as T}from"./MapPinIcon-uL6bt2XU.js";import{F as m}from"./LanguageIcon-f-sUMXqN.js";import{F as G}from"./CalendarIcon-t3DuckOm.js";import{F as H}from"./CodeBracketIcon-CDI8TT-2.js";import{F as W}from"./ShieldCheckIcon-DRDxtj5q.js";function z({title:e,titleId:a,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},r),e?i.createElement("title",{id:a},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const O=i.forwardRef(z);function U({onBack:e}){return t.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{onClick:e,className:"cursor-pointer mr-2 p-1.5 text-gray-500 hover:bg-black/5 hover:text-gray-700 rounded transition-colors","aria-label":"Go back",children:t.jsx(A,{className:"w-4 h-4"})}),t.jsx("h2",{className:"text-sm font-medium text-gray-700",children:"Settings"})]})})}function V({child:e,isActive:a,onChildClick:r}){return t.jsx("li",{children:t.jsx("button",{onClick:()=>r(e.path),className:`w-full flex items-center gap-2 px-3 py-1.5 pl-10 text-gray-600 hover:bg-gray-50 transition-colors text-left ${a?"bg-gray-50 text-gray-900":""}`,children:t.jsx("span",{className:"text-xs",children:e.text})})})}function _({children:e,isActivePath:a,onChildClick:r}){return t.jsx("ul",{className:"p-0 m-0 list-none",children:e.map(n=>{const l=a(n.path);return t.jsx(V,{child:n,isActive:l,onChildClick:r},n.path)})})}function D({item:e,isCurrentPath:a,isExpanded:r,hasChildren:n,onItemClick:l,onChildClick:h,isActivePath:o}){const d=e.icon;return t.jsxs("li",{children:[t.jsxs("button",{onClick:()=>l(e),className:`w-full flex items-center gap-3 px-4 py-2.5 text-gray-700 hover:bg-gray-50 transition-colors text-left ${a?"bg-gray-50":""}`,children:[t.jsx(d,{className:"w-4 h-4 shrink-0"}),t.jsx("span",{className:"flex-1 text-sm font-medium",children:e.text}),n&&t.jsx("span",{className:"shrink-0",children:r?t.jsx(y,{className:"w-4 h-4 text-gray-500"}):t.jsx(F,{className:"w-4 h-4 text-gray-500"})})]}),n&&t.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${r?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:t.jsx(_,{children:e.children,isActivePath:o,onChildClick:h})})]})}function K({items:e,currentPath:a,expanded:r,isActivePath:n,onItemClick:l,onChildClick:h}){return t.jsx("ul",{className:"p-0 m-0 list-none",children:e.map(o=>{const d=Array.isArray(o.children)&&o.children.length>0,x=o.path||o.text,p=d?o.children.some(f=>n(f.path)):!1,s=d&&(p||!!o.path&&a.startsWith(`${o.path}/`))||n(o.path),c=d?r[x]??p:!1;return t.jsx(D,{item:o,isCurrentPath:s,isExpanded:c,hasChildren:d,onItemClick:l,onChildClick:h,isActivePath:n},x)})})}const X=240,w=[{text:"General",icon:k,path:"/settings/general"},{text:"Plan",icon:L,path:"/settings/plan"},{text:"Billing",icon:g,path:"/settings/billing"},{text:"Users",icon:v,path:"/settings/users",children:[{text:"Roles",icon:I,path:"/settings/users/roles"},{text:"Security",icon:M,path:"/settings/users/security"}]},{text:"Payments",icon:g,path:"/settings/payments"},{text:"Checkout",icon:C,path:"/settings/checkout"},{text:"Customer Accounts",icon:O,path:"/settings/customer-accounts"},{text:"Shipping and delivery",icon:B,path:"/settings/shipping-and-delivery"},{text:"Taxes and duties",icon:u,path:"/settings/taxes-and-duties"},{text:"Locations",icon:T,path:"/settings/locations"},{text:"Markets",icon:$,path:"/settings/markets"},{text:"Domains",icon:m,path:"/settings/domains"},{text:"Customer Events",icon:G,path:"/settings/customer-events"},{text:"Notifications",icon:N,path:"/settings/notifications"},{text:"Metafields and metaobjects",icon:H,path:"/settings/metafields-and-metaobjects"},{text:"Languages",icon:m,path:"/settings/languages"},{text:"Customer Privacy",icon:W,path:"/settings/customer-privacy"},{text:"Policies",icon:u,path:"/settings/policies"}];function Z({currentPath:e,onNavigate:a,onBack:r}){const n=i.useMemo(()=>{const s={};return w.forEach(c=>{if(c.children){const f=c.children.some(j=>j.path===e),b=c.path&&e.startsWith(c.path);s[c.path||c.text]=f||!!b}}),s},[e]),[l,h]=i.useState(n);i.useEffect(()=>{h(n)},[n]);const o=i.useCallback(s=>!!s&&e===s,[e]),d=i.useCallback(s=>{h(c=>({...c,[s]:!c[s]}))},[]),x=i.useCallback(s=>{s.children&&s.children.length>0&&d(s.path||s.text),s.path&&a(s.path)},[d,a]),p=i.useCallback(s=>{s&&a(s)},[a]);return t.jsxs("aside",{className:"fixed bg-white border-r border-gray-200 left-0 top-[60px] h-[calc(100vh-60px)] w-[240px] flex flex-col shrink-0 z-50",style:{width:`${X}px`},children:[t.jsx(U,{onBack:r}),t.jsx("nav",{className:"flex-1 overflow-y-auto",children:t.jsx(K,{items:w,currentPath:e,expanded:l,isActivePath:o,onItemClick:x,onChildClick:p})})]})}const q=60,ct=()=>{const e=R(),a=S(),r=e.pathname,n=i.useCallback(h=>{a(h)},[a]),l=i.useCallback(()=>{a("/")},[a]);return t.jsxs("div",{style:{minHeight:`calc(100vh - ${q}px)`},children:[t.jsx(Z,{currentPath:r,onNavigate:n,onBack:l}),t.jsx("main",{className:"overflow-y-auto w-full",children:t.jsx(E,{})})]})};export{ct as default};
