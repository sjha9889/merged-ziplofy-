import{j as e,k,u as A,r as c,p as U,d as _,aC as R,aD as Y,b as L,i as z}from"./index-C7S6h9OR.js";import{P as W}from"./ProductNotFound-yIBul6fi.js";import{F as w}from"./PencilIcon-MufFKs4H.js";import{F as P}from"./CheckIcon-h7FS1q3H.js";import{F}from"./ArrowLeftIcon-C1qOxHB_.js";import{F as H}from"./TrashIcon-B2-WJkmb.js";const q=({variant:n,formData:l,isEditing:d,onEdit:g,onSave:u,onCancel:b,onInputChange:h})=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Basic Information"}),d?e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:u,className:"p-1 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsx("button",{onClick:b,className:"p-1 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:e.jsx(k,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:g,className:"p-1 text-gray-600 hover:bg-gray-50 rounded transition-colors",children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"SKU"}),d?e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-colors",value:l.sku,onChange:p=>h("sku",p.target.value)}):e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.sku})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Barcode"}),d?e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-colors",value:l.barcode,onChange:p=>h("barcode",p.target.value)}):e.jsx("p",{className:"text-sm text-gray-900",children:n.barcode||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Continue Selling When Out of Stock"}),d?e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsxs("div",{className:"relative inline-block w-10 h-5",children:[e.jsx("input",{type:"checkbox",checked:l.outOfStockContinueSelling,onChange:p=>h("outOfStockContinueSelling",p.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-10 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-gray-400 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gray-900"})]}),e.jsx("span",{className:"text-sm text-gray-900",children:l.outOfStockContinueSelling?"Yes":"No"})]}):e.jsx("p",{className:"text-sm text-gray-900",children:n.outOfStockContinueSelling?"Yes":"No"})]})]})]}),K=({product:n,variant:l,productId:d})=>{const g=A(),u=c.useCallback(()=>{g(`/products/${d}`)},[g,d]);return e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 text-sm font-medium text-gray-600 hover:text-gray-900 mb-2 transition-colors",children:[e.jsx(F,{className:"w-4 h-4"}),"Back to product"]}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:n.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Variant: ",l.sku]})]})},G=({isPhysicalProduct:n,isInventoryTrackingEnabled:l,onIsPhysicalProductChange:d,onIsInventoryTrackingEnabledChange:g,onSaveChanges:u})=>e.jsx("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm mb-6",children:e.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[e.jsxs("div",{className:"flex gap-6 flex-wrap items-center",children:[e.jsxs("label",{className:"flex items-center gap-2.5 cursor-pointer",children:[e.jsxs("div",{className:"relative inline-block w-10 h-5",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:b=>d(b.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-10 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-gray-400 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gray-900"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Is Physical Product"}),e.jsx("p",{className:"text-xs text-gray-600",children:n?"This is a physical product":"This is a digital product"})]})]}),e.jsxs("label",{className:"flex items-center gap-2.5 cursor-pointer",children:[e.jsxs("div",{className:"relative inline-block w-10 h-5",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:b=>g(b.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-10 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-gray-400 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gray-900"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Inventory Tracking"}),e.jsx("p",{className:"text-xs text-gray-600",children:l?"Track inventory for this variant":"Do not track inventory"})]})]})]}),e.jsx("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Save Changes"})]})}),J=({productId:n,onBack:l})=>{const d=A(),g=c.useCallback(()=>{l?l():d(n?`/products/${n}`:"/products")},[d,l,n]);return e.jsx("div",{className:"min-h-screen bg-page-background-color flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white p-12 text-center rounded-xl border border-gray-200/80 shadow-sm max-w-lg w-full",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Variant Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The variant you're looking for doesn't exist."}),e.jsxs("button",{onClick:g,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(F,{className:"w-5 h-5"}),"Back to Product"]})]})})},ae=()=>{const{id:n,variantId:l}=U();A();const{products:d}=_(),{fetchVariantsByProductId:g,variants:u,loading:b,updateVariant:h}=R(),{packagings:p,loading:Q,fetchPackagingsByStoreId:M}=Y(),{activeStoreId:C}=L(),I=c.useMemo(()=>d.find(t=>t._id===n),[d,n]),s=c.useMemo(()=>u.find(t=>t._id===l),[u,l]),[o,T]=c.useState({basic:!1,pricing:!1,inventory:!1,package:!1,images:!1}),[r,f]=c.useState({sku:"",barcode:"",price:0,compareAtPrice:0,cost:0,chargeTax:!1,unitPriceTotalAmount:0,unitPriceTotalAmountMetric:"item",unitPriceBaseMeasure:0,unitPriceBaseMeasureMetric:"item",weightValue:0,weightUnit:"kg",countryOfOrigin:"",hsCode:"",outOfStockContinueSelling:!1,packageId:"",isPhysicalProduct:!0,isInventoryTrackingEnabled:!1,images:[]}),O={weight:["milligram","gram","kilogram"],volume:["milliliter","centiliter","liter","cubic meter"],size:["millimeter","centimeter","meter"],area:["square meter"],"per item":["item"]},B=c.useCallback(()=>{if(!r.unitPriceTotalAmountMetric)return[];for(const[t,a]of Object.entries(O))if(a.includes(r.unitPriceTotalAmountMetric))return a;return[]},[r.unitPriceTotalAmountMetric]),y=c.useCallback(()=>{const t=r.price||0,a=r.cost||0,i=t-a,m=t>0?i/t*100:0;return{profit:i,marginPercent:m}},[r.price,r.cost]),$=c.useCallback(()=>{f(t=>({...t,images:[...t.images,""]}))},[]),V=c.useCallback((t,a)=>{f(i=>({...i,images:i.images.map((m,S)=>S===t?a:m)}))},[]),E=c.useCallback(t=>{f(a=>({...a,images:a.images.filter((i,m)=>m!==t)}))},[]);c.useEffect(()=>{s&&f({sku:s.sku||"",barcode:s.barcode||"",price:s.price||0,compareAtPrice:s.compareAtPrice||0,cost:s.cost||0,chargeTax:s.chargeTax||!1,unitPriceTotalAmount:s.unitPriceTotalAmount||0,unitPriceTotalAmountMetric:s.unitPriceTotalAmountMetric||"item",unitPriceBaseMeasure:s.unitPriceBaseMeasure||0,unitPriceBaseMeasureMetric:s.unitPriceBaseMeasureMetric||"item",weightValue:s.weightValue||0,weightUnit:s.weightUnit||"kg",countryOfOrigin:s.countryOfOrigin||"",hsCode:s.hsCode||"",outOfStockContinueSelling:s.outOfStockContinueSelling||!1,packageId:s.package?._id||"",isPhysicalProduct:s.isPhysicalProduct??!0,isInventoryTrackingEnabled:s.isInventoryTrackingEnabled||!1,images:s.images||[]})},[s]);const x=c.useCallback((t,a)=>{f(i=>{const m={...i,[t]:a};return t==="unitPriceTotalAmountMetric"&&(m.unitPriceBaseMeasureMetric=""),m})},[]),j=c.useCallback(t=>{T(a=>({...a,[t]:!0}))},[]),N=c.useCallback(async t=>{if(s)try{let a={};switch(t){case"basic":a={sku:r.sku,barcode:r.barcode,outOfStockContinueSelling:r.outOfStockContinueSelling};break;case"pricing":const{profit:i,marginPercent:m}=y();a={price:r.price,compareAtPrice:r.compareAtPrice,cost:r.cost,profit:i,marginPercent:m,unitPriceTotalAmount:r.unitPriceTotalAmount,unitPriceTotalAmountMetric:r.unitPriceTotalAmountMetric,unitPriceBaseMeasure:r.unitPriceBaseMeasure,unitPriceBaseMeasureMetric:r.unitPriceBaseMeasureMetric,chargeTax:r.chargeTax};break;case"package":a={package:r.packageId||null,countryOfOrigin:r.countryOfOrigin,hsCode:r.hsCode,weightValue:r.weightValue,weightUnit:r.weightUnit};break;case"images":a={images:r.images.filter(S=>S.trim()!=="")};break}await h(s._id,a),T(i=>({...i,[t]:!1}))}catch(a){console.error("Error updating variant:",a)}},[s,r,y,h]),v=c.useCallback(t=>{s&&f({sku:s.sku||"",barcode:s.barcode||"",price:s.price||0,compareAtPrice:s.compareAtPrice||0,cost:s.cost||0,chargeTax:s.chargeTax||!1,unitPriceTotalAmount:s.unitPriceTotalAmount||0,unitPriceTotalAmountMetric:s.unitPriceTotalAmountMetric||"item",unitPriceBaseMeasure:s.unitPriceBaseMeasure||0,unitPriceBaseMeasureMetric:s.unitPriceBaseMeasureMetric||"item",weightValue:s.weightValue||0,weightUnit:s.weightUnit||"kg",countryOfOrigin:s.countryOfOrigin||"",hsCode:s.hsCode||"",outOfStockContinueSelling:s.outOfStockContinueSelling||!1,packageId:s.package?._id||"",isPhysicalProduct:s.isPhysicalProduct??!0,isInventoryTrackingEnabled:s.isInventoryTrackingEnabled||!1,images:s.images||[]}),T(a=>({...a,[t]:!1}))},[s]),D=c.useCallback(async()=>{if(s)try{await h(s._id,{isPhysicalProduct:r.isPhysicalProduct,isInventoryTrackingEnabled:r.isInventoryTrackingEnabled})}catch(t){console.error("Error updating variant:",t)}},[s,r.isPhysicalProduct,r.isInventoryTrackingEnabled,h]);return c.useEffect(()=>{n&&g(n)},[n,g]),c.useEffect(()=>{C&&M(C)},[C,M]),I?s?e.jsx("div",{className:"min-h-screen bg-page-background-color",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 sm:px-4 py-4",children:[e.jsx(K,{product:I,variant:s,productId:n||""}),e.jsx(G,{isPhysicalProduct:r.isPhysicalProduct,isInventoryTrackingEnabled:r.isInventoryTrackingEnabled,onIsPhysicalProductChange:t=>x("isPhysicalProduct",t),onIsInventoryTrackingEnabledChange:t=>x("isInventoryTrackingEnabled",t),onSaveChanges:D}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(q,{variant:s,formData:{sku:r.sku,barcode:r.barcode,outOfStockContinueSelling:r.outOfStockContinueSelling},isEditing:o.basic,onEdit:()=>j("basic"),onSave:()=>N("basic"),onCancel:()=>v("basic"),onInputChange:x}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Pricing Information"}),o.pricing?e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N("pricing"),className:"p-1 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v("pricing"),className:"p-1 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:e.jsx(k,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:()=>j("pricing"),className:"p-1 text-gray-600 hover:bg-gray-50 rounded transition-colors",children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Selling Price"}),o.pricing?e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"$"}),e.jsx("input",{type:"number",className:"w-full pl-6 pr-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.price,onChange:t=>x("price",parseFloat(t.target.value)||0)})]}):e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",s.price.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Compare At Price"}),o.pricing?e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"$"}),e.jsx("input",{type:"number",className:"w-full pl-6 pr-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.compareAtPrice,onChange:t=>x("compareAtPrice",parseFloat(t.target.value)||0)})]}):e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",s.compareAtPrice?.toFixed(2)||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Cost"}),o.pricing?e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"$"}),e.jsx("input",{type:"number",className:"w-full pl-6 pr-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.cost,onChange:t=>x("cost",parseFloat(t.target.value)||0)})]}):e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",s.cost?.toFixed(2)||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Profit"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",o.pricing?y().profit.toFixed(2):s.profit?.toFixed(2)||"N/A"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Margin Percentage"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[o.pricing?y().marginPercent.toFixed(2):s.marginPercent?.toFixed(2)||"0.00","%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Unit Price Total Amount"}),o.pricing?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("span",{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"$"}),e.jsx("input",{type:"number",className:"w-full pl-6 pr-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.unitPriceTotalAmount,onChange:t=>x("unitPriceTotalAmount",parseFloat(t.target.value)||0)})]}),e.jsxs("select",{className:"px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors min-w-[120px]",value:r.unitPriceTotalAmountMetric,onChange:t=>x("unitPriceTotalAmountMetric",t.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select unit"}),Object.entries(O).map(([t,a])=>e.jsx("optgroup",{label:t.charAt(0).toUpperCase()+t.slice(1),children:a.map(i=>e.jsx("option",{value:i,children:i},i))},t))]})]}):e.jsxs("p",{className:"text-sm text-gray-900",children:["$",s.unitPriceTotalAmount?.toFixed(2)||"N/A"," per ",s.unitPriceTotalAmountMetric||"item"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Unit Price Base Measure"}),o.pricing?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",className:"flex-1 px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.unitPriceBaseMeasure,onChange:t=>x("unitPriceBaseMeasure",parseFloat(t.target.value)||0)}),e.jsxs("select",{className:"px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors min-w-[120px] disabled:bg-gray-50 disabled:cursor-not-allowed",value:r.unitPriceBaseMeasureMetric,onChange:t=>x("unitPriceBaseMeasureMetric",t.target.value),disabled:!r.unitPriceTotalAmountMetric,children:[e.jsx("option",{value:"",disabled:!0,children:r.unitPriceTotalAmountMetric?"Select unit":"Select total unit first"}),B().map(t=>e.jsx("option",{value:t,children:t},t))]})]}):e.jsxs("p",{className:"text-sm text-gray-900",children:[s.unitPriceBaseMeasure||"N/A"," ",s.unitPriceBaseMeasureMetric||"item"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Charge Tax"}),o.pricing?e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsxs("div",{className:"relative inline-block w-10 h-5",children:[e.jsx("input",{type:"checkbox",checked:r.chargeTax,onChange:t=>x("chargeTax",t.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-10 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-gray-400 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-gray-900"})]}),e.jsx("span",{className:"text-sm text-gray-900",children:r.chargeTax?"Yes":"No"})]}):e.jsx("p",{className:"text-sm text-gray-900",children:s.chargeTax?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-4",children:"Inventory & Status"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Inventory Tracking"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.isInventoryTrackingEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Artificial Variant"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.isSynthetic?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-4",children:"Option Values"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:Object.entries(s.optionValues||{}).map(([t,a])=>e.jsxs("span",{className:"px-2.5 py-1 rounded text-xs font-medium border border-gray-200 text-gray-700",children:[t,": ",a]},`${t}-${a}`))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Images"}),o.images?e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N("images"),className:"p-1 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v("images"),className:"p-1 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:e.jsx(k,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:()=>j("images"),className:"p-1 text-gray-600 hover:bg-gray-50 rounded transition-colors",children:e.jsx(w,{className:"w-4 h-4"})})]}),o.images?e.jsxs("div",{children:[e.jsxs("button",{onClick:$,className:"border border-gray-200 text-gray-700 px-3 py-1.5 rounded text-sm font-medium hover:bg-gray-50 transition-colors flex items-center gap-1.5 mb-4",children:[e.jsx(z,{className:"w-4 h-4"}),"Add Image"]}),r.images.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.images.map((t,a)=>e.jsxs("div",{className:"border border-gray-200 rounded p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["Image ",a+1]}),e.jsx("button",{onClick:()=>E(a),className:"p-1 text-gray-600 hover:bg-gray-50 rounded transition-colors",children:e.jsx(H,{className:"w-4 h-4"})})]}),e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors mb-3",placeholder:"Enter image URL",value:t,onChange:i=>V(a,i.target.value)}),t.trim()?e.jsx("img",{src:t,alt:`Preview ${a+1}`,className:"w-full h-36 object-cover rounded border border-gray-200",onError:i=>{i.currentTarget.style.display="none"}}):e.jsx("div",{className:"w-full h-36 border-2 border-dashed border-gray-300 rounded flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No image preview"})})]},a))}):e.jsx("div",{className:"text-center py-6",children:e.jsx("p",{className:"text-sm text-gray-600",children:'No images added yet. Click "Add Image" to get started.'})})]}):e.jsx("div",{children:s.images&&s.images.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:s.images.map((t,a)=>e.jsx("div",{children:e.jsx("img",{src:t,alt:`Variant image ${a+1}`,className:"w-full h-40 object-cover rounded border border-gray-200",onError:i=>{i.currentTarget.style.display="none"}})},a))}):e.jsx("div",{className:"text-center py-6",children:e.jsx("p",{className:"text-sm text-gray-600",children:"No images for this variant yet."})})})]}),r.isPhysicalProduct&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Shipping Information"}),o.package?e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N("package"),className:"p-1 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:e.jsx(P,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v("package"),className:"p-1 text-gray-700 hover:bg-gray-50 rounded transition-colors",children:e.jsx(k,{className:"w-4 h-4"})})]}):e.jsx("button",{onClick:()=>j("package"),className:"p-1 text-gray-600 hover:bg-gray-50 rounded transition-colors",children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Package"}),o.package?e.jsxs("select",{className:"w-full px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.packageId||s.package?._id||"",onChange:t=>x("packageId",t.target.value),children:[e.jsx("option",{value:"",children:"No Package"}),p.map(t=>e.jsxs("option",{value:t._id,children:[t.packageName," (",t.packageType,") - ",t.length,"×",t.width,"×",t.height," ",t.dimensionsUnit]},t._id))]}):e.jsx("p",{className:"text-sm text-gray-900",children:s.package?`${s.package.packageName} (${s.package.packageType}) - ${s.package.length}×${s.package.width}×${s.package.height} ${s.package.dimensionsUnit}`:"No Package"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Country of Origin"}),o.package?e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.countryOfOrigin,onChange:t=>x("countryOfOrigin",t.target.value)}):e.jsx("p",{className:"text-sm text-gray-900",children:s.countryOfOrigin||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"HS Code"}),o.package?e.jsx("input",{type:"text",className:"w-full px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.hsCode,onChange:t=>x("hsCode",t.target.value)}):e.jsx("p",{className:"text-sm text-gray-900",children:s.hsCode||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Product Weight"}),o.package?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",className:"flex-1 px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors",value:r.weightValue,onChange:t=>x("weightValue",parseFloat(t.target.value)||0)}),e.jsxs("select",{className:"px-3 py-1.5 border border-gray-200 rounded text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400 transition-colors min-w-[80px]",value:r.weightUnit,onChange:t=>x("weightUnit",t.target.value),children:[e.jsx("option",{value:"kg",children:"kg"}),e.jsx("option",{value:"g",children:"g"}),e.jsx("option",{value:"lb",children:"lb"}),e.jsx("option",{value:"oz",children:"oz"})]})]}):e.jsxs("p",{className:"text-sm text-gray-900",children:[s.weightValue," ",s.weightUnit]})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-4",children:"Variant ID & References"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Variant ID"}),e.jsx("p",{className:"text-xs font-mono text-gray-900",children:s._id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Product ID"}),e.jsx("p",{className:"text-xs font-mono text-gray-900",children:s.productId})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-4",children:"Status & Flags"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Inventory Tracking"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.isInventoryTrackingEnabled?"Enabled":"Disabled"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Artificial Variant"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.isSynthetic?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Continue Selling When Out of Stock"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.outOfStockContinueSelling?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Charge Tax"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.chargeTax?"Yes":"No"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-4",children:"Financial Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Selling Price"}),e.jsxs("p",{className:"text-base font-medium text-gray-900",children:["$",s.price.toFixed(2)]})]}),s.compareAtPrice&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Compare At Price"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",s.compareAtPrice.toFixed(2)]})]}),s.cost&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Cost"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",s.cost.toFixed(2)]})]}),s.profit&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Profit"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["$",s.profit.toFixed(2)]})]}),s.marginPercent&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Margin"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[s.marginPercent.toFixed(2),"%"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-4",children:"Timeline"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Created"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:new Date(s.createdAt).toLocaleTimeString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.updatedAt).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:new Date(s.updatedAt).toLocaleTimeString()})]})]})]})]})]})]})}):e.jsx(J,{productId:n}):e.jsx(W,{})};export{ae as default};
