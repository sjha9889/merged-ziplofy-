import{u as A,t as k,p as T,v as E,r as l,j as e}from"./index-C7S6h9OR.js";import{G as R}from"./GridBackgroundWrapper-Du1VLjut.js";import{B as s,T as r}from"./Box-Cgm3ZkZ8.js";import{P as p}from"./Paper-DocVmpOE.js";import{S as m}from"./Stack-CYPs5YkO.js";import{A as w}from"./Avatar-DBcC4tVz.js";import{C as N}from"./Chip-DNdEoHyQ.js";import{T as g}from"./TextField-CwtyivJh.js";import{F as W,I as B,S as M}from"./Select-Bus390RW.js";import{M as P}from"./MenuItem-HG7tTLPS.js";import{B as j}from"./Button-CdPvNkrY.js";import"./DefaultPropsProvider-CZkfTDs_.js";import"./createSvgIcon-Yi9Vo0kN.js";import"./index-CCB_rw4P.js";import"./dividerClasses-Q3ucxvtD.js";const L=["4PX-99","Minutos","Aeronet","AGS","Amazon","Amazon Logistics UK","AMM Expedition","ANpost","Anuj Logistics","Apple Express"],ee=()=>{const x=A(),h=k(),a=T().id||h.state?.transferId,i=h.state?.entries||[],{createShipment:b,loading:u}=E(),[n,f]=l.useState(""),[o,v]=l.useState(""),[d,S]=l.useState(""),y=l.useMemo(()=>i.reduce((t,c)=>t+(c?.quantity||0),0),[i]),C=async()=>{!a||!n||!o||!d||(await b({transferId:a,estimatedArrivalDate:n,trackingNumber:o,carrier:d}),x(`/products/transfers/${a}`))};return e.jsx(R,{children:e.jsx(s,{sx:{width:"100%",color:"#000000",m:-3,p:3,minHeight:"100%"},children:e.jsxs(s,{sx:{maxWidth:1200,mx:"auto"},children:[e.jsxs(p,{elevation:0,sx:{p:4,mb:4,borderRadius:3,background:"linear-gradient(135deg, #0ea5e9 0%, #6366f1 100%)",color:"white"},children:[e.jsx(r,{variant:"h4",sx:{fontWeight:800,mb:1},children:"Create Shipment"}),e.jsxs(r,{variant:"body1",sx:{opacity:.9},children:["Transfer #",a?.slice(-8)||"—"," • ",y," units"]})]}),e.jsxs(m,{spacing:3,children:[e.jsxs(p,{elevation:0,sx:{p:3,borderRadius:3,border:"1px solid #e5e7eb",bgcolor:"white"},children:[e.jsx(r,{variant:"h6",sx:{fontWeight:700,mb:2},children:"Items to ship"}),e.jsxs(m,{spacing:2,children:[i.map(t=>e.jsxs(s,{sx:{display:"flex",alignItems:"center",gap:2,p:2,border:"1px solid #e5e7eb",borderRadius:2},children:[e.jsx(w,{variant:"rounded",src:t.variantId?.images?.[0]||void 0,sx:{width:48,height:48}}),e.jsxs(s,{sx:{flex:1,minWidth:0},children:[e.jsx(r,{variant:"subtitle1",sx:{fontWeight:700},children:t.variantId?.productName||"Unnamed product"}),!!t.variantId?.optionValues&&e.jsx(r,{variant:"body2",sx:{color:"#6b7280"},children:Object.entries(t.variantId.optionValues).map(([c,I])=>`${c}: ${I}`).join(" • ")})]}),e.jsx(N,{label:`Qty: ${t.quantity}`})]},t._id)),i.length===0&&e.jsx(r,{variant:"body2",color:"text.secondary",children:"No entries found from transfer state."})]})]}),e.jsxs(p,{elevation:0,sx:{p:3,borderRadius:3,border:"1px solid #e5e7eb",bgcolor:"white"},children:[e.jsx(r,{variant:"h6",sx:{fontWeight:700,mb:2},children:"Shipment details"}),e.jsxs(m,{spacing:2,children:[e.jsx(g,{type:"date",label:"Estimated arrival date",InputLabelProps:{shrink:!0},value:n,onChange:t=>f(t.target.value)}),e.jsx(g,{label:"Tracking number",placeholder:"Enter tracking number",value:o,onChange:t=>v(t.target.value)}),e.jsxs(W,{children:[e.jsx(B,{children:"Shipping carrier"}),e.jsx(M,{label:"Shipping carrier",value:d,onChange:t=>S(t.target.value),children:L.map(t=>e.jsx(P,{value:t,children:t},t))})]})]}),e.jsxs(s,{sx:{display:"flex",justifyContent:"flex-end",mt:3,gap:1},children:[e.jsx(j,{variant:"text",onClick:()=>x(-1),children:"Back"}),e.jsx(j,{variant:"contained",disabled:!n||!o||!d||!a||u,onClick:C,children:u?"Creating...":"Create shipment"})]})]})]})]})})})};export{ee as default};
