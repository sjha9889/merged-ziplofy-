import{r as t,p as k,u as C,ab as S,j as e}from"./index-C7S6h9OR.js";import{F}from"./ArrowLeftIcon-C1qOxHB_.js";import{F as O}from"./ShoppingBagIcon-C8KO76LJ.js";import{F as $}from"./UserIcon-BNYzLby0.js";import{F as R}from"./TruckIcon-BgeMuXfC.js";import{F as P}from"./MapPinIcon-uL6bt2XU.js";import{F as B}from"./CreditCardIcon-CFitIXWG.js";import{F as E}from"./CalendarIcon-t3DuckOm.js";function D({title:a,titleId:l,...i},s){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},i),a?t.createElement("title",{id:l},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9.75h4.875a2.625 2.625 0 0 1 0 5.25H12M8.25 9.75 10.5 7.5M8.25 9.75 10.5 12m9-7.243V21.75l-3.75-1.5-3.75 1.5-3.75-1.5-3.75 1.5V4.757c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0c1.1.128 1.907 1.077 1.907 2.185Z"}))}const U=t.forwardRef(D),Q=()=>{const{id:a}=k(),l=C(),{getOrderById:i}=S(),[s,m]=t.useState(null),[y,o]=t.useState(!0),[h,p]=t.useState(null),b=t.useCallback(async()=>{if(a)try{o(!0),p(null);const r=await i(a);m(r)}catch{m(null),p("Failed to load order")}finally{o(!1)}},[a,i]);t.useEffect(()=>{b()},[b]);const d=r=>`$${Number(r).toFixed(2)}`,n=r=>new Date(r).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=r=>r&&[r.firstName,r.lastName].filter(Boolean).join(" ").trim()||"—",f=r=>r?{credit_card:"Credit Card",paypal:"PayPal",cod:"Cash on Delivery",other:"Other"}[r]||r:"—",v=r=>r&&([r.firstName,r.lastName].filter(Boolean).join(" ").trim()||r.email)||"—";if(y)return e.jsx("div",{className:"min-h-screen bg-page-background-color flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block h-10 w-10 animate-spin rounded-full border-2 border-gray-200 border-t-blue-600"}),e.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"Loading order..."})]})});if(h||!s)return e.jsx("div",{className:"min-h-screen bg-page-background-color flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-red-600",children:h||"Order not found"}),e.jsx("button",{onClick:()=>l("/orders"),className:"mt-4 text-sm font-medium text-blue-600 hover:text-blue-700",children:"Back to Orders"})]})});const w=s._id?`#${s._id}`:"—";return e.jsx("div",{className:"min-h-screen bg-page-background-color",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 sm:px-4 py-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>l("/orders"),className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 mb-4 transition-colors",children:[e.jsx(F,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Back to Orders"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:["Order ",w]}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:n(s.orderDate||s.createdAt||"")})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("span",{className:`px-2.5 py-1 rounded text-xs font-medium ${s.status==="delivered"||s.status==="shipped"?"bg-emerald-50 text-emerald-700":s.status==="pending"||s.status==="paid"?"bg-amber-50 text-amber-700":s.status==="cancelled"?"bg-gray-100 text-gray-700":"bg-amber-50 text-amber-700"}`,children:[s.status?.charAt(0).toUpperCase(),s.status?.slice(1)]}),e.jsxs("span",{className:`px-2.5 py-1 rounded text-xs font-medium ${s.paymentStatus==="paid"?"bg-emerald-50 text-emerald-700":s.paymentStatus==="refunded"?"bg-gray-100 text-gray-700":"bg-amber-50 text-amber-700"}`,children:[s.paymentStatus?.charAt(0).toUpperCase(),s.paymentStatus?.slice(1)]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-5 pt-5 pb-4 border-b border-gray-200/80",children:e.jsx("div",{className:"pl-3 border-l-4 border-blue-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Order Items"})]})})}),e.jsx("div",{className:"px-5 py-4",children:e.jsx("div",{className:"space-y-4",children:s.items?.map((r,c)=>{const x=r.productVariantId,j=x?.productId,u=j?.title||"Product",N=x?.images?.[0]||j?.imageUrls?.[0]||void 0,A=x?.sku||"—";return e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-page-background-color rounded-lg shrink-0 overflow-hidden border border-gray-200/80",children:N?e.jsx("img",{src:N,alt:u,className:"w-full h-full object-cover",onError:I=>{I.target.src="https://via.placeholder.com/80?text=Product"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-400",children:"No image"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:u}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["SKU: ",A]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:["Quantity: ",r.quantity," × ",d(r.price)]}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:d(r.total)})]})]})]}),c<(s.items?.length??0)-1&&e.jsx("div",{className:"border-t border-gray-200 mt-4"})]},r._id)})})})]}),s.notes&&e.jsx("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"pl-3 border-l-4 border-blue-600",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 mb-2",children:"Order Notes"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.notes})]})})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-5 pt-5 pb-4 border-b border-gray-200/80",children:e.jsx("div",{className:"pl-3 border-l-4 border-blue-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Order Summary"})]})})}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"text-gray-900 font-medium",children:d(s.subtotal)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Tax"}),e.jsx("span",{className:"text-gray-900 font-medium",children:d(s.tax)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Shipping"}),e.jsx("span",{className:"text-gray-900 font-medium",children:d(s.shippingCost)})]}),e.jsx("div",{className:"border-t border-gray-200 pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Total"}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:d(s.total)})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-5 pt-5 pb-4 border-b border-gray-200/80",children:e.jsx("div",{className:"pl-3 border-l-4 border-blue-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Customer"})]})})}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:v(s.customerId)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.customerId?.email||"—"})]})]})})]}),s.shippingAddressId&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-5 pt-5 pb-4 border-b border-gray-200/80",children:e.jsx("div",{className:"pl-3 border-l-4 border-blue-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Shipping Address"})]})})}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g(s.shippingAddressId)}),s.shippingAddressId.address&&e.jsx("p",{className:"text-sm text-gray-600",children:s.shippingAddressId.address}),s.shippingAddressId.apartment&&e.jsx("p",{className:"text-sm text-gray-600",children:s.shippingAddressId.apartment}),(s.shippingAddressId.city||s.shippingAddressId.state||s.shippingAddressId.pinCode)&&e.jsx("p",{className:"text-sm text-gray-600",children:[s.shippingAddressId.city,s.shippingAddressId.state,s.shippingAddressId.pinCode].filter(Boolean).join(", ")}),s.shippingAddressId.country&&e.jsx("p",{className:"text-sm text-gray-600",children:s.shippingAddressId.country}),s.shippingAddressId.phoneNumber&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Phone: ",s.shippingAddressId.phoneNumber]})]})})]}),s.billingAddressId&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-5 pt-5 pb-4 border-b border-gray-200/80",children:e.jsx("div",{className:"pl-3 border-l-4 border-blue-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Billing Address"})]})})}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g(s.billingAddressId)}),s.billingAddressId.address&&e.jsx("p",{className:"text-sm text-gray-600",children:s.billingAddressId.address}),s.billingAddressId.apartment&&e.jsx("p",{className:"text-sm text-gray-600",children:s.billingAddressId.apartment}),(s.billingAddressId.city||s.billingAddressId.state||s.billingAddressId.pinCode)&&e.jsx("p",{className:"text-sm text-gray-600",children:[s.billingAddressId.city,s.billingAddressId.state,s.billingAddressId.pinCode].filter(Boolean).join(", ")}),s.billingAddressId.country&&e.jsx("p",{className:"text-sm text-gray-600",children:s.billingAddressId.country})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-5 pt-5 pb-4 border-b border-gray-200/80",children:e.jsx("div",{className:"pl-3 border-l-4 border-blue-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Payment"})]})})}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:f(s.paymentMethod)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Status"}),e.jsxs("span",{className:`inline-block px-2.5 py-1 rounded text-xs font-medium ${s.paymentStatus==="paid"?"bg-emerald-50 text-emerald-700":s.paymentStatus==="refunded"?"bg-gray-100 text-gray-700":"bg-amber-50 text-amber-700"}`,children:[s.paymentStatus?.charAt(0).toUpperCase(),s.paymentStatus?.slice(1)]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-5 pt-5 pb-4 border-b border-gray-200/80",children:e.jsx("div",{className:"pl-3 border-l-4 border-blue-600",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Order Information"})]})})}),e.jsx("div",{className:"px-5 py-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Order Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:n(s.orderDate||s.createdAt||"")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Created At"}),e.jsx("p",{className:"text-sm text-gray-900",children:n(s.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-900",children:n(s.updatedAt)})]})]})})]})]})]})})};export{Q as default};
