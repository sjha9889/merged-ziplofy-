import{p as v,u as f,b as D,A as C,r,j as e}from"./index-C7S6h9OR.js";import{D as A,a as S,C as g}from"./ChipList-Bp0Q8baA.js";import{G as x}from"./GridBackgroundWrapper-Du1VLjut.js";import"./ArrowLeftIcon-C1qOxHB_.js";const L=()=>{const{id:j}=v(),n=f(),{activeStoreId:l}=D(),{discounts:c,fetchDiscountsByStoreId:o,loading:p,error:h}=C(),s=c.find(t=>t._id===j);r.useEffect(()=>{l&&!c.length&&o(l)},[l,c.length,o]);const u=r.useCallback(()=>{n("/discounts")},[n]),a=r.useCallback(t=>t?"Yes":"No",[]),y=r.useCallback(t=>t?.name||t?._id,[]),N=r.useCallback(t=>`${t?.firstName||""} ${t?.lastName||""}`.trim()||t?.email||t?._id,[]);if(p)return e.jsx(x,{children:e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"w-6 h-6 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})})});if(h)return e.jsx(x,{children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4",children:e.jsx("div",{className:"p-3 bg-red-50 border border-red-200",children:e.jsx("p",{className:"text-sm text-red-800",children:h})})})});if(!s)return e.jsx(x,{children:e.jsx(A,{})});const d=s.targetCustomerSegmentDetails||[],m=s.targetCustomerDetails||[],b=s.valueType==="percentage"?`${s.percentage??0}%`:`₹${s.fixedAmount??0}`;return e.jsx(x,{children:e.jsx("div",{className:"min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(S,{method:s.method,discountCode:s.discountCode,title:s.title,value:b,status:s.status,onBack:u}),e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"General Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Method"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.method})]}),s.method==="discount-code"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Code"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.discountCode})]}),s.method==="automatic"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Title"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.title})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Value Type"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.valueType})]}),s.valueType==="percentage"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Percentage"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[s.percentage,"%"]})]}),s.valueType==="fixed-amount"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Fixed Amount"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["₹",s.fixedAmount]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Eligibility"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.eligibility})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Status"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Created At"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(s.updatedAt).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Usage & Channel Limits"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Allow on Channels"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.allowDiscountOnChannels)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Limit Total Uses"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.limitTotalUses)})]}),s.limitTotalUses&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Total Uses Limit"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.totalUsesLimit})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"One Use Per Customer"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.limitOneUsePerCustomer)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Apply on POS Pro"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.applyOnPOSPro)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Once Per Order"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.oncePerOrder)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Minimum Purchase"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Requirement"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.minimumPurchase})]}),s.minimumPurchase==="minimum-amount"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Amount"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["₹",s.minimumAmount]})]}),s.minimumPurchase==="minimum-quantity"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Quantity"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.minimumQuantity})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Combinations"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Product Discounts"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.productDiscounts)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Order Discounts"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.orderDiscounts)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Shipping Discounts"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.shippingDiscounts)})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Active Dates"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Start Date"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[s.startDate," ",s.startTime?`at ${s.startTime}`:""]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Set End Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:a(s.setEndDate)})]}),s.setEndDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"End Date"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[s.endDate," ",s.endTime?`at ${s.endTime}`:""]})]})]})]}),Array.isArray(d)&&d.length>0&&e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Target Customer Segments"}),e.jsx(g,{items:d.map((t,i)=>({key:t?._id||i.toString(),label:y(t)}))})]}),Array.isArray(m)&&m.length>0&&e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Target Customers"}),e.jsx(g,{items:m.map((t,i)=>({key:t?._id||i.toString(),label:N(t)}))})]})]})})})})};export{L as default};
