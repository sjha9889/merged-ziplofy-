import{u as g,p,P as y,r as f,j as e}from"./index-C7S6h9OR.js";import{G as h}from"./GridBackgroundWrapper-Du1VLjut.js";import{F as u}from"./ArrowLeftIcon-C1qOxHB_.js";import{F as v}from"./TruckIcon-BgeMuXfC.js";import{F as j}from"./ChevronRightIcon-CVun6pAX.js";import{F as b}from"./MapPinIcon-uL6bt2XU.js";const $=()=>{const i=g(),{localDeliveryId:r}=p(),{entries:c,fetchEntriesByLocalDeliveryId:o,loading:d}=y();f.useEffect(()=>{r&&o(r)},[r,o]);const a=c,n=!r,m=d&&!n;return e.jsx(h,{children:e.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3 border-b border-gray-200 pb-4",children:[e.jsx("button",{onClick:()=>i("/settings/shipping-and-delivery"),className:"p-1 text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(u,{className:"w-5 h-5"})}),e.jsx(v,{className:"w-5 h-5 text-gray-700"}),e.jsx(j,{className:"w-4 h-4 text-gray-500"}),e.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Local delivery"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Deliver orders to customers directly from your locations"}),e.jsxs("div",{className:"border border-gray-200 bg-white/95 p-4",children:[e.jsx("h2",{className:"text-sm font-medium text-gray-900 mb-3",children:"Your locations"}),n?e.jsx("p",{className:"text-sm text-gray-600 py-3",children:"Local delivery identifier missing. Please navigate via the Manage button."}):m?e.jsx("div",{className:"py-8 text-center",children:e.jsx("div",{className:"inline-block w-6 h-6 border-2 border-gray-300 border-t-gray-900 rounded-full animate-spin"})}):a.length===0?e.jsx("p",{className:"text-sm text-gray-600 py-3",children:"No locations found."}):e.jsx("div",{className:"space-y-2",children:a.map((s,x)=>{const l=typeof s.locationId=="string"||!s.locationId?null:s.locationId,t=typeof s.locationId=="string"?s.locationId:s.locationId?._id;return t?e.jsxs("div",{onClick:()=>{r&&i(`/settings/shipping-and-delivery/local_deliveries/${r}/locations/${t}`)},className:`flex items-center justify-between py-2 ${x!==a.length-1?"border-b border-gray-100":""} cursor-pointer hover:bg-gray-50 transition-colors`,children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx(b,{className:"w-5 h-5 text-gray-600 shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:l?.name||"Unknown location"}),e.jsx("p",{className:"text-xs text-gray-600",children:l?.countryRegion||"No country specified"})]})]}),e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium ${s.canLocalDeliver?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:s.canLocalDeliver?"Offers delivery":"Doesn't offer delivery"})]},t):null})})]})]})})};export{$ as default};
