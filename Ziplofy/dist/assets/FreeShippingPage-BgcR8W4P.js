import{u as W,G as z,b as H,B as J,C as K,r as i,j as e,k as E}from"./index-C7S6h9OR.js";import{C as p,g as O}from"./countries--eOPoqDg.js";import{G as X}from"./GridBackgroundWrapper-Du1VLjut.js";import{M as y}from"./MultiSelect-DYMnqjW0.js";import{F as Y}from"./ArrowLeftIcon-C1qOxHB_.js";const re=()=>{const d=W(),{createDiscount:b,loading:u,error:j}=z(),{activeStoreId:l}=H(),{segments:x,searchCustomerSegments:N,fetchSegmentsByStoreId:f,loading:R}=J(),{customers:h,searchCustomers:v,fetchCustomersByStoreId:C,loading:U}=K(),[s,L]=i.useState({method:"discount-code",discountCode:"",title:"",countrySelection:"all-countries",countrySearchQuery:"",excludeShippingRates:!1,shippingRateLimit:"",eligibility:"all-customers",eligibilitySearchQuery:"",applyOnPOSPro:!1,minimumPurchase:"no-requirements",minimumAmount:"",minimumQuantity:"",allowDiscountOnChannels:!1,limitTotalUses:!1,totalUsesLimit:"",limitOneUsePerCustomer:!1,productDiscounts:!1,orderDiscounts:!1,startDate:"",startTime:"",setEndDate:!1,endDate:"",endTime:""}),[A,S]=i.useState(""),[I,w]=i.useState(""),[m,k]=i.useState([]),[o,D]=i.useState([]),[n,g]=i.useState([]),[Q,P]=i.useState(p),M=i.useCallback((()=>{let t;return a=>{window.clearTimeout(t),t=window.setTimeout(async()=>{if(l)if(a.trim())try{await N(l,a)}catch{}else try{await f(l)}catch{}},300)}})(),[l,N,f]),q=i.useCallback((()=>{let t;return a=>{window.clearTimeout(t),t=window.setTimeout(async()=>{if(l)if(a.trim())try{await v(l,a)}catch{}else try{await C(l)}catch{}},300)}})(),[l,v,C]),r=i.useCallback((t,a)=>{L(c=>({...c,[t]:a}))},[]),F=i.useCallback(t=>{if(r("countrySearchQuery",t),t.trim()==="")P(p);else{const a=p.filter(c=>c.name.toLowerCase().includes(t.toLowerCase()));P(a)}},[r]);i.useCallback(t=>{n.includes(t)||g(a=>[...a,t])},[]);const $=i.useCallback(t=>{g(a=>a.filter(c=>c!==t))},[]),T=i.useCallback(()=>{d("/discounts?createDiscountModal=open")},[d]),B=i.useCallback(async t=>{if(t.preventDefault(),!l)return;const a={storeId:l,method:s.method,discountCode:s.method==="discount-code"&&s.discountCode||void 0,title:s.method==="automatic"&&s.title||void 0,countrySelection:s.countrySelection,selectedCountryCodes:s.countrySelection==="selected-countries"?n:void 0,excludeShippingRates:!!s.excludeShippingRates,shippingRateLimit:s.excludeShippingRates&&s.shippingRateLimit!==""?Number(s.shippingRateLimit):void 0,eligibility:s.eligibility,applyOnPOSPro:!!s.applyOnPOSPro,minimumPurchase:s.minimumPurchase,minimumAmount:s.minimumPurchase==="minimum-amount"&&s.minimumAmount!==""?Number(s.minimumAmount):void 0,minimumQuantity:s.minimumPurchase==="minimum-quantity"&&s.minimumQuantity!==""?Number(s.minimumQuantity):void 0,allowDiscountOnChannels:!!s.allowDiscountOnChannels,limitTotalUses:!!s.limitTotalUses,totalUsesLimit:s.limitTotalUses&&s.totalUsesLimit!==""?Number(s.totalUsesLimit):void 0,limitOneUsePerCustomer:!!s.limitOneUsePerCustomer,productDiscounts:!!s.productDiscounts,orderDiscounts:!!s.orderDiscounts,startDate:s.startDate||void 0,startTime:s.startTime||void 0,setEndDate:!!s.setEndDate,endDate:s.setEndDate&&s.endDate||void 0,endTime:s.setEndDate&&s.endTime||void 0,targetCustomerSegmentIds:m.length?m:void 0,targetCustomerIds:o.length?o:void 0};try{(await b(a)).success&&d("/discounts")}catch{}},[s,n,m,o,l,b,d]);i.useEffect(()=>{S(""),w(""),k([]),D([])},[s.eligibility]);const _=Q.map(t=>({value:t.code,label:`${t.name} (${t.code})`})),G=x.map(t=>({value:t._id,label:t.name})),V=h.map(t=>({value:t._id,label:`${t.firstName||""} ${t.lastName||""}`.trim()||t.email,secondaryText:t.email}));return e.jsx(X,{children:e.jsxs("div",{className:"min-h-screen",children:[e.jsx("div",{className:"border-b border-gray-200 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:T,className:"p-1 text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Free shipping"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4",children:e.jsxs("form",{onSubmit:B,children:[j&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-red-800",children:j}),e.jsx("button",{type:"button",onClick:()=>{},className:"text-red-600 hover:text-red-800",children:e.jsx(E,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mb-6 border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Method"}),e.jsxs("fieldset",{className:"mb-3",children:[e.jsx("legend",{className:"text-xs text-gray-600 mb-1.5",children:"Discount Method"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"method",value:"discount-code",checked:s.method==="discount-code",onChange:t=>r("method",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Discount code"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"method",value:"automatic",checked:s.method==="automatic",onChange:t=>r("method",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Automatic discount"})]})]})]}),s.method==="discount-code"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Discount code"}),e.jsx("input",{type:"text",value:s.discountCode,onChange:t=>r("discountCode",t.target.value),placeholder:"Enter discount code",className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Customers will enter this code at checkout"})]}),s.method==="automatic"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Title"}),e.jsx("input",{type:"text",value:s.title,onChange:t=>r("title",t.target.value),placeholder:"Enter discount title",className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"This title will be shown to customers"})]})]}),e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{className:"mb-6 border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Country"}),e.jsxs("fieldset",{className:"mb-3",children:[e.jsx("legend",{className:"text-xs text-gray-600 mb-1.5",children:"Country Selection"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"countrySelection",value:"all-countries",checked:s.countrySelection==="all-countries",onChange:t=>r("countrySelection",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All Countries"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"countrySelection",value:"selected-countries",checked:s.countrySelection==="selected-countries",onChange:t=>r("countrySelection",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Selected Countries"})]})]})]}),s.countrySelection==="selected-countries"&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Search Countries"}),e.jsx("input",{type:"text",value:s.countrySearchQuery,onChange:t=>F(t.target.value),placeholder:"Search for countries...",className:"w-full max-w-md px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Search and select countries to apply the discount to"}),n.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("p",{className:"text-xs text-gray-600 mb-1.5",children:["Selected Countries (",n.length,"):"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map(t=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-gray-700 border border-gray-200 text-xs",children:[O(t),e.jsx("button",{type:"button",onClick:()=>$(t),className:"hover:text-gray-900",children:e.jsx(E,{className:"w-3.5 h-3.5"})})]},t))})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(y,{label:"Select Countries",value:n,options:_,onChange:g,renderValue:t=>t.length===0?"":t.length===1?O(t[0]):`${t.length} countries selected`}),e.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:[n.length," country(ies) selected"]})]})]}),e.jsx("h3",{className:"text-base font-medium mb-3 mt-4 text-gray-900",children:"Shipping Rates"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.excludeShippingRates,onChange:t=>r("excludeShippingRates",t.target.checked),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Exclude Shipping Rates over a certain amount"})]}),s.excludeShippingRates&&e.jsxs("div",{className:"ml-6 mt-2",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Shipping rate limit"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500 text-sm",children:"₹"}),e.jsx("input",{type:"number",value:s.shippingRateLimit,onChange:t=>r("shippingRateLimit",t.target.value),placeholder:"Enter amount",className:"w-full px-3 py-1.5 pl-8 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Enter the maximum shipping rate amount in rupees"})]})]})]}),e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{className:"mb-6 border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium mb-1 text-gray-900",children:"Eligibility"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Available on all sales channels"}),e.jsxs("fieldset",{className:"mb-3",children:[e.jsx("legend",{className:"text-xs text-gray-600 mb-1.5",children:"Customer Eligibility"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"eligibility",value:"all-customers",checked:s.eligibility==="all-customers",onChange:t=>r("eligibility",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All customers"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"eligibility",value:"specific-customer-segments",checked:s.eligibility==="specific-customer-segments",onChange:t=>r("eligibility",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Specific customer segments"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"eligibility",value:"specific-customers",checked:s.eligibility==="specific-customers",onChange:t=>r("eligibility",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Specific customers"})]})]})]}),s.method==="automatic"&&s.eligibility==="all-customers"&&e.jsx("div",{className:"ml-2 mt-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.applyOnPOSPro,onChange:t=>r("applyOnPOSPro",t.target.checked),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Apply on POS Pro locations"})]})}),s.eligibility==="specific-customer-segments"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Search customer segments"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:A,onChange:t=>{const a=t.target.value;S(a),M(a)},placeholder:"Search for customer segments...",className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 pr-10 text-base"}),R&&e.jsx("div",{className:"absolute right-3 top-2",children:e.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Search and select customer segments to apply the discount to"}),x.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx(y,{label:"Choose Customer Segments",value:m,options:G,onChange:k,renderValue:t=>x.filter(a=>t.includes(a._id)).map(a=>a.name).join(", ")}),e.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:[m.length," segment(s) selected"]})]})]}),s.eligibility==="specific-customers"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Search customers"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:I,onChange:t=>{const a=t.target.value;w(a),q(a)},placeholder:"Search for customers...",className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 pr-10 text-base"}),U&&e.jsx("div",{className:"absolute right-3 top-2",children:e.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"})})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Search and select customers to apply the discount to"}),h.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx(y,{label:"Choose Customers",value:o,options:V,onChange:D,renderValue:t=>h.filter(a=>t.includes(a._id)).map(a=>`${a.firstName||""} ${a.lastName||""}`.trim()||a.email).join(", ")}),e.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:[o.length," customer(s) selected"]})]})]})]}),e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{className:"mb-6 border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Minimum purchase requirements"}),e.jsxs("fieldset",{className:"mb-3",children:[e.jsx("legend",{className:"text-xs text-gray-600 mb-1.5",children:"Minimum Purchase Requirements"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"minimumPurchase",value:"no-requirements",checked:s.minimumPurchase==="no-requirements",onChange:t=>r("minimumPurchase",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No minimum requirements"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"minimumPurchase",value:"minimum-amount",checked:s.minimumPurchase==="minimum-amount",onChange:t=>r("minimumPurchase",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Minimum purchase amount"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"minimumPurchase",value:"minimum-quantity",checked:s.minimumPurchase==="minimum-quantity",onChange:t=>r("minimumPurchase",t.target.value),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Minimum quantity of items"})]})]})]}),s.minimumPurchase==="minimum-amount"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Minimum purchase amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500 text-sm",children:"₹"}),e.jsx("input",{type:"number",value:s.minimumAmount,onChange:t=>r("minimumAmount",t.target.value),placeholder:"Enter minimum amount",className:"w-full px-3 py-1.5 pl-8 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Applies to all products"})]}),s.minimumPurchase==="minimum-quantity"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Minimum quantity of items"}),e.jsx("input",{type:"number",value:s.minimumQuantity,onChange:t=>r("minimumQuantity",t.target.value),placeholder:"Enter minimum quantity",className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Applies to all products"})]})]}),s.method==="discount-code"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{className:"mb-6 border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Sales channel access"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.allowDiscountOnChannels,onChange:t=>r("allowDiscountOnChannels",t.target.checked),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Allow discount to be featured on selected channels"})]})]})]}),s.method==="discount-code"&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{className:"mb-6 border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Maximum discount uses"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.limitTotalUses,onChange:t=>r("limitTotalUses",t.target.checked),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Limit number of times this discount can be used in total"})]}),s.limitTotalUses&&e.jsxs("div",{className:"ml-6 mt-2",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Total uses limit"}),e.jsx("input",{type:"number",value:s.totalUsesLimit,onChange:t=>r("totalUsesLimit",t.target.value),placeholder:"Enter maximum number of uses",className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Enter the maximum number of times this discount can be used"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.limitOneUsePerCustomer,onChange:t=>r("limitOneUsePerCustomer",t.target.checked),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Limit to one use per customer"})]})})]})]}),e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{className:"mb-6 border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Combinations"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.productDiscounts,onChange:t=>r("productDiscounts",t.target.checked),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Product Discounts"})]}),s.productDiscounts&&e.jsx("p",{className:"mt-1 ml-6 text-xs text-gray-600",children:"Each eligible item in the cart may receive up to one product discount."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.orderDiscounts,onChange:t=>r("orderDiscounts",t.target.checked),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Order Discounts"})]}),s.orderDiscounts&&e.jsx("p",{className:"mt-1 ml-6 text-xs text-gray-600",children:"All eligible order discounts will apply in addition to eligible product discounts."})]}),(s.productDiscounts||s.orderDiscounts)&&e.jsx("div",{className:"mt-3 p-3 bg-white/95 border border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-600",children:"This discount won't combine with any other discount at checkout."})})]}),e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{className:"mb-6 border border-gray-200 p-4 bg-white/95",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Active dates"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Start date"}),e.jsx("input",{type:"date",value:s.startDate,onChange:t=>r("startDate",t.target.value),className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Start time (IST)"}),e.jsx("input",{type:"time",value:s.startTime,onChange:t=>r("startTime",t.target.value),className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Indian Standard Time"})]})]}),e.jsx("div",{className:"mt-3",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.setEndDate,onChange:t=>r("setEndDate",t.target.checked),className:"w-4 h-4 text-gray-900"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Set end date"})]})}),s.setEndDate&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"End date"}),e.jsx("input",{type:"date",value:s.endDate,onChange:t=>r("endDate",t.target.value),className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:"End time (IST)"}),e.jsx("input",{type:"time",value:s.endTime,onChange:t=>r("endTime",t.target.value),className:"w-full px-3 py-1.5 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 text-base"}),e.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Indian Standard Time"})]})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[e.jsx("button",{type:"button",onClick:T,className:"px-3 py-1.5 text-sm font-medium text-gray-700 border border-gray-200 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:u||!l,className:"px-3 py-1.5 text-sm font-medium bg-gray-900 text-white hover:bg-gray-800 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:[u&&e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),u?"Creating...":"Create Discount"]})]})]})})]})})};export{re as default};
