import{j as e,r,af as C,ag as w,b as k,u as S}from"./index-C7S6h9OR.js";import{F as A}from"./ArrowLeftIcon-C1qOxHB_.js";function I({title:o,status:c,onTitleChange:s,onStatusChange:i}){return e.jsx("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Title"}),e.jsx("input",{type:"text",value:o,onChange:a=>s(a.target.value),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-colors",placeholder:"Enter catalog title"})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Status"}),e.jsxs("select",{value:c,onChange:a=>i(a.target.value),className:"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 bg-white transition-colors",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"draft",children:"Draft"})]})]})]})})}function P({currencies:o,currencyId:c,loading:s=!1,onCurrencyChange:i,priceAdjustment:a,onPriceAdjustmentChange:d,adjustDirection:x,onAdjustDirectionChange:n,includeCompareAt:h,onIncludeCompareAtChange:u}){return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-6 shadow-sm space-y-4",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Pricing"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Set prices in"}),e.jsx("select",{value:c,onChange:t=>i(t.target.value),disabled:s,className:"w-full sm:w-64 rounded-lg border border-gray-200 px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-colors",children:o.map(t=>e.jsx("option",{value:t._id,children:`${t.code}${t.symbol?` (${t.symbol})`:""} â€” ${t.name}`},t._id))})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 md:w-36",children:"Price adjustment"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:a,onChange:t=>d(Number(t.target.value)),className:"w-28 rounded-lg border border-gray-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-colors"}),e.jsx("span",{className:"text-sm text-gray-700",children:"%"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>n("decrease"),className:`cursor-pointer px-4 py-2 rounded-lg text-sm font-medium border transition-colors ${x==="decrease"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:"Decrease"}),e.jsx("button",{type:"button",onClick:()=>n("increase"),className:`cursor-pointer px-4 py-2 rounded-lg text-sm font-medium border transition-colors ${x==="increase"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:"Increase"})]}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("input",{type:"checkbox",checked:h,onChange:t=>u(t.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500/30"}),"Include compare-at price"]})]})]})}const D=()=>{const[o,c]=r.useState("active"),[s,i]=r.useState(""),[a]=r.useState(!0),[d,x]=r.useState("decrease"),[n,h]=r.useState(!0),[u,t]=r.useState(0),[l,p]=r.useState(""),{currencies:y,getCurrencies:j,loading:N}=C(),{createCatalog:f}=w(),{activeStoreId:g}=k(),b=S();r.useEffect(()=>{j({limit:250}).then(m=>{m&&m.length&&!l&&p(m[0]._id)}).catch(()=>{})},[]);const v=r.useCallback(async()=>{!g||!s||!l||(await f({storeId:g,title:s,status:o,currencyId:l,priceAdjustment:u,priceAdjustmentSide:d,includeCompareAtPrice:n,autoIncludeNewProducts:a}),b("/markets/catalogs"))},[g,s,o,l,u,d,n,a,f,b]);return e.jsx("div",{className:"min-h-screen bg-page-background-color",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 sm:px-4 py-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>b("/markets/catalogs"),className:"inline-flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-700 mb-3 transition-colors",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:"Back"})]}),e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"New catalog"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Create a new catalog for your store"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{title:s,status:o,onTitleChange:i,onStatusChange:m=>c(m)}),e.jsx(P,{currencies:y,currencyId:l,loading:N,onCurrencyChange:p,priceAdjustment:u,onPriceAdjustmentChange:t,adjustDirection:d,onAdjustDirectionChange:x,includeCompareAt:n,onIncludeCompareAtChange:h})]}),e.jsxs("div",{className:"flex gap-3 justify-end mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>b("/markets/catalogs"),className:"px-4 py-2 text-sm font-medium text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"button",disabled:!g||!s||!l,onClick:v,className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create"})]})]})})};export{D as default};
