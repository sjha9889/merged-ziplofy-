import{j as e,i as c,u as g,f as h,b as p,r as a}from"./index-C7S6h9OR.js";import{F as f}from"./ArrowPathIcon-WqkWOGbf.js";const b=({onCreateTransfer:s})=>e.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[e.jsxs("div",{className:"pl-3 border-l-4 border-blue-500/60",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Transfers"}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Move products between locations and keep inventory organized"})]}),e.jsxs("button",{onClick:s,className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-sm font-semibold transition-colors shadow-sm",children:[e.jsx(c,{className:"w-4 h-4"}),"Create Transfer"]})]}),j=()=>{const s=g(),{fetchTransfersByStoreId:x,transfers:r,loading:l}=h(),{activeStoreId:n}=p();a.useEffect(()=>{n&&x(n).catch(()=>{})},[n,x]);const o=a.useCallback(t=>{s(`/products/transfers/${t}`)},[s]),d=a.useCallback(()=>{s("/products/transfers/new")},[s]),m=a.useCallback(t=>{switch(t){case"transferred":return"bg-green-50 text-green-700 border-green-200/80";case"in_progress":return"bg-blue-50 text-blue-700 border-blue-200/80";case"ready_to_ship":return"bg-amber-50 text-amber-700 border-amber-200/80";default:return"bg-gray-100 text-gray-600 border-gray-200/80"}},[]);return e.jsx("div",{className:"min-h-screen bg-page-background-color",children:e.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 sm:px-4 py-4",children:[e.jsx(b,{onCreateTransfer:d}),l&&e.jsx("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm flex justify-center items-center py-16",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-2 border-gray-200 border-t-blue-600"})}),!l&&r.length===0&&e.jsx("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm min-h-[320px] flex justify-center items-center p-12",children:e.jsxs("div",{className:"flex flex-col justify-center items-center text-center gap-4 max-w-md",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-blue-50 flex items-center justify-center",children:e.jsx(f,{className:"w-7 h-7 text-blue-600"})}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"No transfers yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Start by creating your first transfer to move products between locations and keep your inventory organized."})]}),e.jsxs("button",{onClick:d,className:"inline-flex items-center gap-1.5 px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-sm font-semibold transition-colors shadow-sm",children:[e.jsx(c,{className:"w-4 h-4"}),"Create Transfer"]})]})}),!l&&r.length>0&&e.jsx("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[e.jsx("thead",{className:"bg-gray-50/80",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Transfer ID"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Reference"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Origin"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Destination"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Transfer Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Tags"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600",children:"Updated"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.map(t=>e.jsxs("tr",{onClick:()=>o(t._id),className:"cursor-pointer hover:bg-blue-50/50 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 font-mono text-sm",children:["#",t._id.slice(-8)]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.referenceName||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.originLocationId?.name||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.destinationLocationId?.name||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.transferDate?new Date(t.transferDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-3",children:t.tags&&t.tags.length>0?e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.tags.slice(0,2).map(i=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-lg bg-blue-50 text-blue-700 border border-blue-200/60",children:i.name},i._id)),t.tags.length>2&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 text-xs font-medium rounded-lg bg-gray-100 text-gray-600",children:["+",t.tags.length-2]})]}):e.jsx("span",{className:"text-xs text-gray-500",children:"No tags"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 text-xs font-medium rounded-lg border capitalize ${m(t.status)}`,children:t.status.replace(/_/g," ")})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(t.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:t.updatedAt?new Date(t.updatedAt).toLocaleDateString():"â€”"})]},t._id))})]})})})]})})};export{j as default};
