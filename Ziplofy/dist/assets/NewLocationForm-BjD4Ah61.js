import{j as e,u as h,c as f,b as j,r as o}from"./index-C7S6h9OR.js";import{T as d}from"./ToggleSwitch-DRYMOlwW.js";import{G as v}from"./GridBackgroundWrapper-Du1VLjut.js";import{F as N}from"./ArrowLeftIcon-C1qOxHB_.js";const C=({canShip:s,canLocalDeliver:r,canPickup:a,onCanShipChange:n,onCanLocalDeliverChange:c,onCanPickupChange:t})=>e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsx("div",{children:e.jsx(d,{checked:s,onChange:n,label:"Allow Shipping"})}),e.jsx("div",{children:e.jsx(d,{checked:r,onChange:c,label:"Allow Local Delivery"})}),e.jsx("div",{children:e.jsx(d,{checked:a,onChange:t,label:"Allow Pickup In-Store"})})]}),k=({fulfillmentEnabled:s,canShip:r,canLocalDeliver:a,canPickup:n,onFulfillmentToggle:c,onCanShipChange:t,onCanLocalDeliverChange:u,onCanPickupChange:i})=>e.jsxs("div",{className:"bg-white/95 p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Fulfillment"}),e.jsx(d,{checked:s,onChange:c,label:"Enable"})]}),s&&e.jsx(C,{canShip:r,canLocalDeliver:a,canPickup:n,onCanShipChange:t,onCanLocalDeliverChange:u,onCanPickupChange:i})]}),w=({form:s,onChange:r})=>e.jsxs("div",{className:"bg-white/95 p-3 border border-gray-200 mb-3",children:[e.jsx("h2",{className:"text-sm font-medium mb-3 text-gray-900",children:"Location Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location Name"}),e.jsx("input",{type:"text",value:s.name,onChange:a=>r("name",a.target.value),className:"w-full px-2.5 py-1.5 text-sm text-gray-900 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Country / Region"}),e.jsx("input",{type:"text",value:s.countryRegion,onChange:a=>r("countryRegion",a.target.value),className:"w-full px-2.5 py-1.5 text-sm text-gray-900 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("input",{type:"text",value:s.address,onChange:a=>r("address",a.target.value),className:"w-full px-2.5 py-1.5 text-sm text-gray-900 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Apartment, suite, etc. (optional)"}),e.jsx("input",{type:"text",value:s.apartment,onChange:a=>r("apartment",a.target.value),className:"w-full px-2.5 py-1.5 text-sm text-gray-900 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{type:"text",value:s.city,onChange:a=>r("city",a.target.value),className:"w-full px-2.5 py-1.5 text-sm text-gray-900 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"State / Province"}),e.jsx("input",{type:"text",value:s.state,onChange:a=>r("state",a.target.value),className:"w-full px-2.5 py-1.5 text-sm text-gray-900 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"PIN / Postal Code"}),e.jsx("input",{type:"text",value:s.postalCode,onChange:a=>r("postalCode",a.target.value),className:"w-full px-2.5 py-1.5 text-sm text-gray-900 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{type:"text",value:s.phone,onChange:a=>r("phone",a.target.value),className:"w-full px-2.5 py-1.5 text-sm text-gray-900 border border-gray-200 focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]})]})]}),A=()=>{const s=h(),{createLocation:r}=f(),{activeStoreId:a}=j(),[n,c]=o.useState(!1),[t,u]=o.useState({name:"",countryRegion:"",address:"",apartment:"",city:"",state:"",postalCode:"",phone:"",canShip:!1,canLocalDeliver:!1,canPickup:!1}),i=o.useCallback((l,g)=>{u(b=>({...b,[l]:g}))},[]),m=o.useCallback(async()=>{if(!a){s("/settings/locations");return}await r({storeId:a,name:t.name,countryRegion:t.countryRegion,address:t.address,apartment:t.apartment||void 0,city:t.city,state:t.state,postalCode:t.postalCode,phone:t.phone,canShip:n?t.canShip:!1,canLocalDeliver:n?t.canLocalDeliver:!1,canPickup:n?t.canPickup:!1,isDefault:!1,isFulfillmentAllowed:n,isActive:!0}),s("/settings/locations")},[a,t,n,r,s]),p=o.useCallback(()=>{s("/settings/locations")},[s]),y=o.useCallback(l=>{c(l)},[]),x=o.useCallback((l,g)=>{i(l,g)},[i]);return e.jsx(v,{children:e.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-gray-200 pb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:p,className:"p-1 hover:bg-gray-50 transition-colors",children:e.jsx(N,{className:"w-5 h-5 text-gray-600"})}),e.jsx("h1",{className:"text-xl font-medium text-gray-900",children:"Add Location"})]}),e.jsx("button",{onClick:m,className:"cursor-pointer px-3 py-1.5 text-sm font-medium text-gray-700 border border-gray-200 hover:bg-gray-50 transition-colors",children:"Add"})]}),e.jsx(w,{form:t,onChange:i}),e.jsx(k,{fulfillmentEnabled:n,canShip:t.canShip,canLocalDeliver:t.canLocalDeliver,canPickup:t.canPickup,onFulfillmentToggle:y,onCanShipChange:l=>x("canShip",l),onCanLocalDeliverChange:l=>x("canLocalDeliver",l),onCanPickupChange:l=>x("canPickup",l)})]})})};export{A as default};
