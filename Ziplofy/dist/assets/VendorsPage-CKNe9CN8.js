import{r,j as e,aE as p,b as f,i as m}from"./index-C7S6h9OR.js";import{M as j}from"./Modal-DsfhGJdg.js";import"./index-CCB_rw4P.js";function v({title:s,titleId:t,...o},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},o),s?r.createElement("title",{id:t},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const y=r.forwardRef(v),N=({isOpen:s,onClose:t,vendorName:o,onVendorNameChange:a,onSubmit:n})=>e.jsx(j,{open:s,onClose:t,title:"Add Vendor",maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Submit"})]}),children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"vendor-name",className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Enter vendor name"}),e.jsx("input",{id:"vendor-name",type:"text",autoFocus:!0,value:o,onChange:a,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500/30 focus:border-blue-500 outline-none transition-colors bg-white text-sm",placeholder:"Enter vendor name"})]})}),w=({vendor:s})=>e.jsx("div",{className:"px-4 py-3 hover:bg-blue-50/40 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:s.name}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(s.updatedAt).toLocaleDateString()})]})}),V=({vendors:s})=>e.jsxs("div",{children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 pl-4 border-l-4 border-l-blue-500/60",children:e.jsxs("h2",{className:"text-sm font-semibold text-gray-900",children:["All Vendors (",s.length,")"]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:s.map(t=>e.jsx(w,{vendor:t},t._id))})]}),E=()=>{const{vendors:s,fetchVendorsByStoreId:t,loading:o,createVendor:a}=p(),{activeStoreId:n}=f(),[x,l]=r.useState(!1),[d,i]=r.useState("");r.useEffect(()=>{n&&t(n)},[n,t]);const c=r.useCallback(()=>{l(!0)},[]),u=r.useCallback(()=>{l(!1),i("")},[]),h=r.useCallback(g=>{i(g.target.value)},[]),b=r.useCallback(async()=>{if(!n||!d.trim()){l(!1);return}try{await a({storeId:n,name:d.trim()})}finally{i(""),l(!1)}},[n,d,a]);return e.jsxs("div",{className:"min-h-screen bg-page-background-color",children:[e.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 sm:px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"pl-3 border-l-4 border-blue-500/60",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Vendors"}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage your product suppliers"})]}),e.jsxs("button",{onClick:c,className:"flex items-center gap-1.5 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(m,{className:"w-4 h-4"}),"Add Vendor"]})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200/80 shadow-sm overflow-hidden",children:o?e.jsx("div",{className:"flex justify-center py-16",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 border-t-blue-600"})}):s.length===0?e.jsxs("div",{className:"text-center py-16 px-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-blue-50 mb-4",children:e.jsx(y,{className:"w-8 h-8 text-blue-500"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"No vendors yet"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-sm mx-auto mb-6",children:"Add vendors to organize your product suppliers and track where your products come from."}),e.jsxs("button",{onClick:c,className:"inline-flex items-center gap-1.5 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(m,{className:"w-4 h-4"}),"Add Vendor"]})]}):e.jsx(V,{vendors:s})})]}),e.jsx(N,{isOpen:x,onClose:u,vendorName:d,onVendorNameChange:h,onSubmit:b})]})};export{E as default};
