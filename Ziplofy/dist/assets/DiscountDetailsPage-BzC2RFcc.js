import{j as e,p as j,u as p,D as u,r as o}from"./index-C7S6h9OR.js";import{C as y,D as N,a as b}from"./ChipList-Bp0Q8baA.js";import{G as h}from"./GridBackgroundWrapper-Du1VLjut.js";import"./ArrowLeftIcon-C1qOxHB_.js";const v=({appliesTo:i,eligibility:r,minimumPurchase:l,minimumQuantity:s})=>e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Applies to"}),e.jsx("p",{className:"text-sm text-gray-900",children:i})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Eligibility"}),e.jsx("p",{className:"text-sm text-gray-900",children:r})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Minimum purchase"}),e.jsx("p",{className:"text-sm text-gray-900",children:l||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Minimum quantity"}),e.jsx("p",{className:"text-sm text-gray-900",children:s??"-"})]})]})]}),D=({valueType:i,value:r,oncePerOrder:l,allowDiscountOnChannels:s,limitTotalUses:c,totalUsesLimit:x,limitOneUsePerCustomer:n,productDiscounts:m,orderDiscounts:a,shippingDiscounts:t})=>{const d=g=>g?"Yes":"No";return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Value & Limits"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Value type"}),e.jsx("p",{className:"text-sm text-gray-900",children:i})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Value"}),e.jsx("p",{className:"text-sm text-gray-900",children:r})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Once per order"}),e.jsx("p",{className:"text-sm text-gray-900",children:d(l)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Allow discount on channels"}),e.jsx("p",{className:"text-sm text-gray-900",children:d(s)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Limit total uses"}),e.jsx("p",{className:"text-sm text-gray-900",children:c?`Yes (${x??"-"})`:"No"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Limit one use per customer"}),e.jsx("p",{className:"text-sm text-gray-900",children:d(n)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Product discounts combinable"}),e.jsx("p",{className:"text-sm text-gray-900",children:d(m)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Order discounts combinable"}),e.jsx("p",{className:"text-sm text-gray-900",children:d(a)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Shipping discounts combinable"}),e.jsx("p",{className:"text-sm text-gray-900",children:d(t)})]})]})]})},f=({startDate:i,startTime:r,setEndDate:l,endDate:s,endTime:c,createdAt:x,updatedAt:n})=>{const m=a=>a?new Date(a).toLocaleDateString():"-";return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Active Dates"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Start"}),e.jsx("p",{className:"text-sm text-gray-900",children:[i,r].filter(Boolean).join(" ")||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"End"}),e.jsx("p",{className:"text-sm text-gray-900",children:l?[s,c].filter(Boolean).join(" ")||"-":"No end date"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Created"}),e.jsx("p",{className:"text-sm text-gray-900",children:m(x)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Updated"}),e.jsx("p",{className:"text-sm text-gray-900",children:m(n)})]})]})]})},C=({targetProductDetails:i,targetProductIds:r,targetCollectionDetails:l,targetCollectionIds:s,targetCustomerSegmentDetails:c,targetCustomerSegmentIds:x,targetCustomerDetails:n,targetCustomerIds:m})=>{const a=t=>e.jsx(y,{items:t});return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium mb-3 text-gray-900",children:"Targets"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1.5",children:"Products"}),i&&i.length>0?a(i.map(t=>({key:t._id,label:t.title||t._id}))):r&&r.length>0?a(r.map(t=>({key:t,label:t}))):e.jsx("p",{className:"text-xs text-gray-600",children:"None"})]}),e.jsx("hr",{className:"my-3 border-gray-200"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1.5",children:"Collections"}),l&&l.length>0?a(l.map(t=>({key:t._id,label:t.title||t._id}))):s&&s.length>0?a(s.map(t=>({key:t,label:t}))):e.jsx("p",{className:"text-xs text-gray-600",children:"None"})]}),e.jsx("hr",{className:"my-3 border-gray-200"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1.5",children:"Customer Segments"}),c&&c.length>0?a(c.map(t=>({key:t._id,label:t.name||t._id}))):x&&x.length>0?a(x.map(t=>({key:t,label:t}))):e.jsx("p",{className:"text-xs text-gray-600",children:"None"})]}),e.jsx("hr",{className:"my-3 border-gray-200"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-gray-900 mb-1.5",children:"Customers"}),n&&n.length>0?a(n.map(t=>({key:t._id,label:`${t.firstName||""} ${t.lastName||""}`.trim()||t.email||t._id}))):m&&m.length>0?a(m.map(t=>({key:t,label:t}))):e.jsx("p",{className:"text-xs text-gray-600",children:"None"})]})]})},w=()=>{const{id:i}=j(),r=p(),{discounts:l}=u(),s=o.useMemo(()=>l.find(n=>n._id===i),[l,i]),c=o.useCallback(()=>{r("/discounts")},[r]);if(!s)return e.jsx(h,{children:e.jsx(N,{})});const x=s.valueType==="percentage"?`${s.percentage??0}%`:`â‚¹${s.fixedAmount??0}`;return e.jsx(h,{children:e.jsx("div",{className:"min-h-screen",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(b,{method:s.method,discountCode:s.discountCode,title:s.title,value:x,status:s.status,onBack:c}),e.jsx(v,{appliesTo:s.appliesTo,eligibility:s.eligibility,minimumPurchase:s.minimumPurchase,minimumQuantity:s.minimumQuantity}),e.jsx(D,{valueType:s.valueType,value:x,oncePerOrder:s.oncePerOrder,allowDiscountOnChannels:s.allowDiscountOnChannels,limitTotalUses:s.limitTotalUses,totalUsesLimit:s.totalUsesLimit,limitOneUsePerCustomer:s.limitOneUsePerCustomer,productDiscounts:s.productDiscounts,orderDiscounts:s.orderDiscounts,shippingDiscounts:s.shippingDiscounts}),e.jsx(f,{startDate:s.startDate,startTime:s.startTime,setEndDate:s.setEndDate,endDate:s.endDate,endTime:s.endTime,createdAt:s.createdAt,updatedAt:s.updatedAt}),e.jsx(C,{targetProductDetails:s.targetProductDetails,targetProductIds:s.targetProductIds,targetCollectionDetails:s.targetCollectionDetails,targetCollectionIds:s.targetCollectionIds,targetCustomerSegmentDetails:s.targetCustomerSegmentDetails,targetCustomerSegmentIds:s.targetCustomerSegmentIds,targetCustomerDetails:s.targetCustomerDetails,targetCustomerIds:s.targetCustomerIds})]})})})})};export{w as default};
