import{r as l,j as e,k as b,F as p}from"./index-C7S6h9OR.js";const N=({label:f,value:t,options:a,onChange:n,placeholder:o="Select...",disabled:x=!1,renderValue:d})=>{const[c,g]=l.useState(!1),m=l.useRef(null);l.useEffect(()=>{const s=r=>{m.current&&!m.current.contains(r.target)&&g(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const h=l.useCallback(()=>{x||g(!c)},[x,c]),u=l.useCallback(s=>{t.includes(s)?n(t.filter(r=>r!==s)):n([...t,s])},[t,n]),y=l.useCallback((s,r)=>{r.stopPropagation(),n(t.filter(i=>i!==s))},[t,n]),j=l.useCallback(()=>d?d(t):t.length===0?o:a.filter(r=>t.includes(r.value)).map(r=>r.label).join(", "),[t,a,o,d]);return e.jsxs("div",{className:"relative",ref:m,children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1.5",children:f}),e.jsxs("div",{onClick:h,className:`
          w-full min-h-[36px] px-3 py-1.5 text-sm border border-gray-200
          bg-white cursor-pointer flex items-center justify-between
          ${x?"bg-gray-50 cursor-not-allowed":"hover:border-gray-300"}
          ${c?"border-gray-400 ring-1 ring-gray-400":""}
        `,children:[e.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:t.length===0?e.jsx("span",{className:"text-gray-500",children:o}):e.jsxs(e.Fragment,{children:[d?e.jsx("span",{className:"text-gray-900",children:j()}):t.slice(0,3).map(s=>{const r=a.find(i=>i.value===s);return r?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-gray-100 text-gray-700 text-xs",children:[r.label,e.jsx("button",{type:"button",onClick:i=>y(s,i),className:"hover:text-gray-900",children:e.jsx(b,{className:"w-3 h-3"})})]},s):null}),t.length>3&&e.jsxs("span",{className:"text-gray-600 text-xs",children:["+",t.length-3," more"]})]})}),e.jsx(p,{className:`w-4 h-4 text-gray-400 transition-transform ${c?"rotate-180":""}`})]}),c&&!x&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 shadow-lg max-h-60 overflow-auto",children:a.length===0?e.jsx("div",{className:"px-3 py-2 text-sm text-gray-600",children:"No options available"}):a.map(s=>{const r=t.includes(s.value);return e.jsxs("div",{onClick:()=>u(s.value),className:`
                    px-3 py-2 text-sm cursor-pointer hover:bg-gray-50 flex items-center justify-between
                    ${r?"bg-gray-100":""}
                  `,children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-gray-900",children:s.label}),s.secondaryText&&e.jsx("div",{className:"text-xs text-gray-600",children:s.secondaryText})]}),r&&e.jsx("div",{className:"w-4 h-4 bg-gray-900 flex items-center justify-center",children:e.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},s.value)})})]})};export{N as M};
