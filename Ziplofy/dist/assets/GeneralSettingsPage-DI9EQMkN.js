import{r as t,j as e,g as yt,u as Re,aU as bt,y as Fe,b as pt,aq as jt,aV as Nt,ar as vt,V as Ct,Z as kt,O as b}from"./index-C7S6h9OR.js";import{M as Ce}from"./Modal-DsfhGJdg.js";import{G as St}from"./GridBackgroundWrapper-Du1VLjut.js";import{F as wt}from"./InformationCircleIcon-B4YRJG0O.js";import{F as Gt}from"./CodeBracketIcon-CDI8TT-2.js";import{F as ce}from"./ChevronRightIcon-CVun6pAX.js";import{F as Ee}from"./PencilIcon-MufFKs4H.js";import"./index-CCB_rw4P.js";function At({title:n,titleId:r,...i},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},i),n?t.createElement("title",{id:r},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75v6.75m0 0-3-3m3 3 3-3m-8.25 6a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const Pt=t.forwardRef(At);function It({title:n,titleId:r,...i},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},i),n?t.createElement("title",{id:r},n):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const Ot=t.forwardRef(It);function Mt({open:n,onClose:r,onSave:i,saving:l,legalBusinessName:m,country:x,address:c,apartment:f,city:a,state:y,pinCode:w,initialValues:h,countries:C,onLegalBusinessNameChange:D,onCountryChange:_,onAddressChange:U,onApartmentChange:L,onCityChange:W,onStateChange:$,onPinCodeChange:K}){const P=m!==h.legalBusinessName||x!==h.country||c!==h.address||f!==h.apartment||a!==h.city||y!==h.state||w!==h.pinCode,H=l||!P;return e.jsxs(Ce,{open:n,onClose:r,title:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Billing information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your customers could see this information."})]}),maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-900 border border-gray-300 rounded hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:i,disabled:H,className:`px-4 py-2 text-sm font-medium text-white rounded transition-colors ${P&&!l?"bg-gray-900 hover:bg-gray-800":"bg-gray-300 cursor-not-allowed"}`,children:l?"Saving...":"Save"})]}),children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"legal-business-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Legal business name"}),e.jsx("input",{id:"legal-business-name",type:"text",value:m,onChange:D,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"country-label",className:"block text-sm font-medium text-gray-700 mb-1",children:"Country/region"}),e.jsx("select",{id:"country-label",value:x,onChange:_,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:C.length>0?C.map(p=>e.jsx("option",{value:p.name,children:p.flagEmoji?`${p.flagEmoji} ${p.name}`:p.name},p._id)):e.jsx("option",{value:"India",children:"ðŸ‡®ðŸ‡³ India"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:e.jsx(yt,{className:"w-4 h-4"})}),e.jsx("input",{id:"address",type:"text",value:c,onChange:U,className:"w-full rounded-md border border-gray-300 pl-10 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"apartment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apartment, suite, etc."}),e.jsx("input",{id:"apartment",type:"text",value:f,onChange:L,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),e.jsx("input",{id:"city",type:"text",value:a,onChange:W,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"state-label",className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),e.jsxs("select",{id:"state-label",value:y,onChange:$,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select a state"}),e.jsx("option",{value:"Delhi",children:"Delhi"}),e.jsx("option",{value:"Maharashtra",children:"Maharashtra"}),e.jsx("option",{value:"Karnataka",children:"Karnataka"}),e.jsx("option",{value:"Tamil Nadu",children:"Tamil Nadu"}),e.jsx("option",{value:"West Bengal",children:"West Bengal"}),e.jsx("option",{value:"Gujarat",children:"Gujarat"}),e.jsx("option",{value:"Rajasthan",children:"Rajasthan"}),e.jsx("option",{value:"Uttar Pradesh",children:"Uttar Pradesh"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pin-code",className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN code"}),e.jsx("input",{id:"pin-code",type:"text",value:w,onChange:K,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})}function Bt({open:n,onClose:r,onSave:i,saving:l,storeName:m,storeEmail:x,storePhone:c,initialValues:f,onStoreNameChange:a,onStoreEmailChange:y,onStorePhoneChange:w}){const h=m!==f.storeName||x!==f.storeEmail||c!==f.storePhone,C=l||!h;return e.jsxs(Ce,{open:n,onClose:r,title:"Edit profile",maxWidth:"sm",actions:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-900 border border-gray-300 rounded hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:i,disabled:C,className:`px-4 py-2 text-sm font-medium text-white rounded transition-colors ${h?"bg-gray-900 hover:bg-gray-800":"bg-gray-300 cursor-not-allowed"}`,children:l?"Saving...":"Save"})]}),children:[e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"These details could be publicly available. Do not use your personal information."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"store-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Store name"}),e.jsx("input",{id:"store-name",type:"text",value:m,onChange:a,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mb-1"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Appears on your website"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"store-email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Store email"}),e.jsx("input",{id:"store-email",type:"email",value:x,onChange:y,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 mb-1"}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Receives messages about your store. For sender email, go to"," ",e.jsx("a",{href:"/settings/notifications",className:"text-blue-600 hover:underline",children:"notification settings"}),"."]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"store-phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Store phone"}),e.jsx("input",{id:"store-phone",type:"tel",value:c,onChange:w,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})}function Ft({onSave:n,saving:r,disabled:i}){return e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["To change your user level time zone and language visit your"," ",e.jsx("a",{href:"#",className:"text-gray-700 hover:underline",children:"account settings"}),"."]}),e.jsx("button",{onClick:n,disabled:i,className:"cursor-pointer px-3 py-1.5 bg-gray-900 text-white text-sm font-medium hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Saving...":"Save"})]})}const Et=({label:n})=>e.jsx("span",{className:"inline-block min-w-[28px] px-2 py-0.5 rounded-md border border-gray-300 bg-gray-50 font-semibold text-[13px] text-center text-gray-900 leading-[1.4]",children:n}),Rt=({action:n,keys:r})=>e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("p",{className:"text-sm text-gray-600 flex-1",children:n}),e.jsx("div",{className:"flex gap-1.5 flex-wrap justify-end",children:r.map((i,l)=>e.jsx(Et,{label:i},`${n}-${i}-${l}`))})]}),ie=[{title:"General shortcuts",shortcuts:[{action:"Keyboard help",keys:["?"]},{action:"Focus search bar or save bar",keys:["S"]},{action:"Focus filter bar",keys:["F"]},{action:"Open app",keys:["O","A"]},{action:"Open sales channel",keys:["O","S"]},{action:"Open store",keys:["O","T"]},{action:"Your profile",keys:["M","E"]},{action:"Log out",keys:["B","Y","E"]}]},{title:"Adding items to your store",shortcuts:[{action:"Add product",keys:["A","P"]},{action:"Add collection",keys:["A","C"]},{action:"Add discount",keys:["A","D"]},{action:"Add order",keys:["A","O"]},{action:"Add customer",keys:["A","U"]},{action:"Add blog post",keys:["A","B"]},{action:"Add blog",keys:["A","L"]},{action:"Add page",keys:["A","G"]}]},{title:"Navigating your admin panel",shortcuts:[{action:"Go to Home",keys:["G","H"]},{action:"Go to Orders",keys:["G","O"]},{action:"Go to Products",keys:["G","P"]},{action:"Go to Customers",keys:["G","C"]},{action:"Go to Content",keys:["G","G","C"]},{action:"Go to Analytics",keys:["G","N"]},{action:"Go to Marketing",keys:["G","M"]},{action:"Go to Discounts",keys:["G","D"]},{action:"Go to Abandoned carts",keys:["G","B","C"]},{action:"Go to Products: Transfers",keys:["G","P","T"]},{action:"Go to Products: Inventory",keys:["G","P","I"]},{action:"Go to Products: Purchase orders",keys:["G","P","O"]},{action:"Go to Products: Collections",keys:["G","P","C"]},{action:"Go to Products: Gift cards",keys:["G","P","G"]},{action:"Go to Online Store: Overview",keys:["G","W","O"]},{action:"Go to Online Store: Blog posts",keys:["G","W","B"]},{action:"Go to Online Store: Pages",keys:["G","W","P"]},{action:"Go to Online Store: Themes",keys:["G","W","T"]},{action:"Go to Online Store: Navigation",keys:["G","W","N"]},{action:"Go to Online Store: Domains",keys:["G","W","D"]},{action:"Go to Point of Sale: Overview",keys:["G","T","O"]},{action:"Go to Ziplofy Capital",keys:["G","T","C"]}]},{title:"Navigating settings",shortcuts:[{action:"Go to Settings",keys:["G","S"]},{action:"Go to Settings: Apps and sales channels",keys:["G","S","A"]},{action:"Go to Settings: Customer accounts",keys:["G","T","A"]},{action:"Go to Settings: Locations",keys:["G","T","L"]},{action:"Go to Settings: General",keys:["G","S","G"]},{action:"Go to Settings: Payments",keys:["G","S","P"]},{action:"Go to Settings: Checkout",keys:["G","S","C"]},{action:"Go to Settings: Customer events",keys:["G","S","E"]},{action:"Go to Settings: Shipping",keys:["G","S","S"]},{action:"Go to Settings: Taxes",keys:["G","S","X"]},{action:"Go to Settings: Notifications",keys:["G","S","N"]},{action:"Go to Settings: Gift cards",keys:["G","S","K"]},{action:"Go to Content: Files",keys:["G","C","F"]},{action:"Go to Settings: Account",keys:["G","S","A","C"]},{action:"Go to Settings: Online Store",keys:["G","S","W"]},{action:"Go to Settings: Point of Sale",keys:["G","S","T"]},{action:"Go to Settings: Billing",keys:["G","S","B"]},{action:"Go to Settings: Plan",keys:["G","S","L"]},{action:"Go to Settings: Metafields",keys:["G","S","M"]}]}],Tt=[[ie[0],ie[1]],[ie[2]],[ie[3]]];function Dt({open:n,onClose:r}){return e.jsx(Ce,{open:n,onClose:r,title:"Keyboard Shortcuts",maxWidth:"lg",children:e.jsx("div",{className:"bg-gray-50 -mx-6 -my-4 px-6 py-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:Tt.map((i,l)=>e.jsx("div",{className:`flex flex-col gap-6 ${l>0?"md:border-l md:border-gray-200 md:pl-6":""}`,children:i.map(m=>e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:m.title}),e.jsx("div",{className:"flex flex-col gap-2 bg-white rounded-lg border border-gray-200 p-4",children:m.shortcuts.map(x=>e.jsx(Rt,{...x},`${m.title}-${x.action}`))})]},m.title))},`column-${l}`))})})})}function _t({orderIdPrefix:n,orderIdSuffix:r,onPrefixChange:i,onSuffixChange:l}){return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-2",children:"Order ID"}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Shown on the order page, customer pages, and customer order notifications to identify order"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"order-id-prefix",className:"block text-xs text-gray-600 mb-1",children:"Prefix"}),e.jsx("input",{id:"order-id-prefix",type:"text",value:n,onChange:i,className:"w-full border border-gray-200 px-3 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"order-id-suffix",className:"block text-xs text-gray-600 mb-1",children:"Suffix"}),e.jsx("input",{id:"order-id-suffix",type:"text",value:r,onChange:l,className:"w-full border border-gray-200 px-3 py-1.5 text-sm focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400"})]})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Your order ID will appear as ",n,"1001",r,", ",n,"1002",r,", ",n,"1003",r," ..."]})]})}function Ut({fulfillmentOption:n,notifyCustomers:r,fulfillHighRiskOrders:i,autoArchive:l,onFulfillmentOptionChange:m,onNotifyCustomersChange:x,onFulfillHighRiskOrdersChange:c,onAutoArchiveChange:f}){return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900",children:"Order processing"}),e.jsx("div",{className:"ml-2 group relative",children:e.jsx("button",{className:"p-1 text-gray-600 hover:text-gray-700",title:"Order processing settings","aria-label":"Order processing settings",children:e.jsx(wt,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"After an order has been paid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"fulfillment-option",value:"fulfill_all",checked:n==="fulfill_all",onChange:m,className:"w-4 h-4 text-gray-900 focus:ring-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Automatically fulfill the order's line items"})]}),n==="fulfill_all"&&e.jsxs("div",{className:"ml-6 mt-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r,onChange:x,className:"w-4 h-4 text-gray-900 focus:ring-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Notify customers of their shipment"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:c,className:"w-4 h-4 text-gray-900 focus:ring-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Automatically fulfill all orders, even those with a high risk of fraud"})]})]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"fulfillment-option",value:"fulfill_gift_cards",checked:n==="fulfill_gift_cards",onChange:m,className:"w-4 h-4 text-gray-900 focus:ring-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Automatically fulfill only the gift cards of the order"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"fulfillment-option",value:"dont_fulfill",checked:n==="dont_fulfill",onChange:m,className:"w-4 h-4 text-gray-900 focus:ring-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Don't fulfill any of the order's line items automatically"})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"After an order has been fulfilled and paid, or when all items have been refunded"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:f,className:"w-4 h-4 text-gray-900 focus:ring-gray-400"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Automatically archive the order"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 ml-6",children:"The order will be removed from your list of open orders."})]})]})}function Lt({onOpenShortcutsModal:n}){const r=Re();return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-4",children:"Resources"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 transition-colors",children:[e.jsx(Ot,{className:"w-4 h-4 text-gray-600 shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-900",children:"Change log"})}),e.jsx("button",{className:"px-3 py-1.5 text-sm text-gray-900 border border-gray-200 hover:bg-gray-100 transition-colors",children:"View change log"})]})}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 transition-colors",children:[e.jsx(bt,{className:"w-4 h-4 text-gray-600 shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-900",children:"Ziplofy Help Center"})}),e.jsx("button",{className:"px-3 py-1.5 text-sm text-gray-900 border border-gray-200 hover:bg-gray-100 transition-colors",children:"Get help"})]})}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 transition-colors",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-600 shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-900",children:"Hire a Ziplofy Partner"})}),e.jsx("button",{className:"px-3 py-1.5 text-sm text-gray-900 border border-gray-200 hover:bg-gray-100 transition-colors",children:"Hire a Partner"})]})}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx("div",{className:"mb-2",children:e.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 p-2 hover:bg-gray-50 transition-colors text-left",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-600 shrink-0",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6H18m0 0h.75m-.75 3h.75m-.75 3h.75M9.813 15v4.687c0 .414.336.75.75.75h4.125a.75.75 0 00.75-.75V15m0 0h-3.375M9.813 15h3.375m0 0H21M9.813 9.813H5.25a2.25 2.25 0 00-2.25 2.25v7.5c0 1.036.84 1.875 1.875 1.875h15.75c1.035 0 1.875-.84 1.875-1.875v-7.5a2.25 2.25 0 00-2.25-2.25h-4.563zM12.375 9.813V8.625c0-1.036-.84-1.875-1.875-1.875h-1.5c-1.036 0-1.875.84-1.875 1.875v1.188m7.5 0V8.625c0-1.036.84-1.875 1.875-1.875h1.5c1.035 0 1.875.84 1.875 1.875v1.188m-7.5 0h7.5"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-900",children:"Keyboard shortcuts"})}),e.jsx(ce,{className:"w-4 h-4 text-gray-600 shrink-0"})]})}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx("div",{children:e.jsxs("button",{onClick:()=>r("/settings/general/activity"),className:"w-full flex items-center gap-3 p-2 hover:bg-gray-50 transition-colors text-left",children:[e.jsx(Pt,{className:"w-4 h-4 text-gray-600 shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-900",children:"Store activity log"})}),e.jsx(ce,{className:"w-4 h-4 text-gray-600 shrink-0"})]})})]})}function Wt(){const n=Re();return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-4",children:"Store assets"}),e.jsx("div",{className:"mb-2",children:e.jsxs("button",{onClick:()=>n("/settings/general/metafields"),className:"w-full flex items-center gap-3 p-2 hover:bg-gray-50 transition-colors text-left",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-600 shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"Metafields"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Available in themes and configurable for Storefront API"})]}),e.jsx(ce,{className:"w-4 h-4 text-gray-600 shrink-0"})]})}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsx("div",{children:e.jsxs("button",{onClick:()=>n("/settings/general/branding"),className:"w-full flex items-center gap-3 p-2 hover:bg-gray-50 transition-colors text-left",children:[e.jsx(Fe,{className:"w-4 h-4 text-gray-600 shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"Brand"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Integrate brand assets across sales channels, themes and apps"})]}),e.jsx(ce,{className:"w-4 h-4 text-gray-600 shrink-0"})]})})]})}function $t({backupRegion:n,unitSystem:r,weightUnit:i,timeZone:l,timeZones:m,onBackupRegionChange:x,onUnitSystemChange:c,onWeightUnitChange:f,onTimeZoneChange:a}){return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-4",children:"Store defaults"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"currency-label",className:"block text-xs text-gray-600 mb-1",children:"Currency display"}),e.jsx("select",{id:"currency-label",value:"INR",disabled:!0,className:"w-full border border-gray-200 px-3 py-1.5 text-sm bg-gray-100 text-gray-500 cursor-not-allowed",children:e.jsx("option",{value:"INR",children:"Indian Rupee (INR â‚¹)"})}),e.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["To manage the currencies customers see, go to"," ",e.jsx("a",{href:"/settings/markets",className:"text-gray-700 hover:underline",children:"Markets"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"backup-region-label",className:"block text-xs text-gray-600 mb-1",children:"Backup Region"}),e.jsxs("select",{id:"backup-region-label",value:n,onChange:x,className:"w-full border border-gray-200 px-3 py-1.5 text-sm bg-white focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",children:[e.jsx("option",{value:"India",children:"India"}),e.jsx("option",{value:"United States",children:"United States"}),e.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),e.jsx("option",{value:"Canada",children:"Canada"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Determines settings for customers outside of your markets."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"unit-system-label",className:"block text-xs text-gray-600 mb-1",children:"Unit system"}),e.jsxs("select",{id:"unit-system-label",value:r,onChange:c,className:"w-full border border-gray-200 px-3 py-1.5 text-sm bg-white focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",children:[e.jsx("option",{value:"metric",children:"Metric system"}),e.jsx("option",{value:"imperial",children:"Imperial system"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"weight-unit-label",className:"block text-xs text-gray-600 mb-1",children:"Default weight unit"}),e.jsxs("select",{id:"weight-unit-label",value:i,onChange:f,className:"w-full border border-gray-200 px-3 py-1.5 text-sm bg-white focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",children:[e.jsx("option",{value:"kg",children:"Kilogram (kg)"}),e.jsx("option",{value:"g",children:"Gram (g)"}),e.jsx("option",{value:"lb",children:"Pound (lb)"}),e.jsx("option",{value:"oz",children:"Ounce (oz)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"timezone-label",className:"block text-xs text-gray-600 mb-1",children:"Time zone"}),e.jsx("select",{id:"timezone-label",value:l,onChange:a,className:"w-full border border-gray-200 px-3 py-1.5 text-sm bg-white focus:outline-none focus:ring-1 focus:ring-gray-400 focus:border-gray-400",children:m.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Sets the time for when orders and analytics are recorded."})]})]})}function Kt({settings:n,activeStore:r,loggedInUser:i,info:l,billingAddress:m,onEditProfile:x,onEditBilling:c}){return e.jsxs("div",{className:"bg-white border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-base font-medium text-gray-900 mb-4",children:"Store details"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"My Store"}),e.jsx("button",{onClick:x,className:"p-1 text-gray-600 hover:bg-gray-100 transition-colors","aria-label":"Edit profile",children:e.jsx(Ee,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-gray-900 mb-1",children:n?.storeName||r?.storeName||"My Store"}),e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:n?.storeEmail||i?.email||"developer200419@gmail.com"}),e.jsx("p",{className:"text-xs text-gray-600",children:n?.storePhone&&n.storePhone.trim()?n.storePhone:l?.contactInfo&&l.contactInfo.trim()?l.contactInfo:"No phone number"})]}),e.jsx("hr",{className:"my-4 border-gray-200"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Billing address"}),e.jsx("button",{onClick:c,className:"p-1 text-gray-600 hover:bg-gray-100 transition-colors","aria-label":"Edit billing address",children:e.jsx(Ee,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-gray-900",children:m?.country||"India"})]})]})}const ts=()=>{const{stores:n,activeStoreId:r,setStores:i}=pt(),{loggedInUser:l}=jt(),{addresses:m,fetchByStoreId:x}=Nt(),{info:c,getByStoreId:f}=vt(),{settings:a,loading:y,getByStoreId:w,update:h}=Ct(),[C,D]=t.useState("India"),[_,U]=t.useState("metric"),[L,W]=t.useState("kg"),[$,K]=t.useState("Asia/Kolkata"),[P,H]=t.useState("#"),[p,de]=t.useState(""),[me,ue]=t.useState("dont_fulfill"),[ge,xe]=t.useState(!1),[he,fe]=t.useState(!1),[ye,be]=t.useState(!0),[pe,ke]=t.useState(!1),[N,Y]=t.useState(""),[G,z]=t.useState(""),[A,V]=t.useState(""),[Ht,q]=t.useState(!1),[Te,Se]=t.useState(!1),[Z,we]=t.useState({storeName:"",storeEmail:"",storePhone:""}),[je,Ge]=t.useState(!1),[I,X]=t.useState(""),[O,J]=t.useState("India"),[M,Q]=t.useState(""),[B,ee]=t.useState(""),[F,te]=t.useState(""),[E,se]=t.useState(""),[R,ae]=t.useState(""),[Zt,k]=t.useState(!1),[De,Ae]=t.useState(!1),[v,_e]=t.useState({legalBusinessName:"",country:"India",address:"",apartment:"",city:"",state:"",pinCode:""}),[Ue,Ne]=t.useState(!1),[ve,Pe]=t.useState(!1),[Ie,Oe]=t.useState(!1),[Le,Me]=t.useState(!1),d=t.useCallback(()=>{ve&&Ne(!0)},[ve]),We=t.useCallback(()=>{Me(!0)},[]),$e=t.useCallback(()=>{Me(!1)},[]),{getCountries:Be,countries:Ke}=kt(),T=n.find(s=>s._id===r),g=m.length>0?m[0]:null;t.useEffect(()=>{Be({limit:250})},[Be]),t.useEffect(()=>{if(pe){const s=a?.storeName??T?.storeName??"My Store",o=a?.storeEmail??l?.email??"developer200419@gmail.com",u=a?.storePhone??(c?.contactInfo&&c.contactInfo.trim()?c.contactInfo:"");Y(s),z(o),V(u),we({storeName:s,storeEmail:o,storePhone:u}),q(!1)}},[pe,a,T,l,c]),t.useEffect(()=>{if(!je)return;let s="",o="India",u="",j="",S="",le="",oe="";a?(s=a.legalBusinessName??"",o=a.billingCountry??"India",u=a.billingAddress??"",j=a.billingApartment??"",S=a.billingCity??"",le=a.billingState??"",oe=a.billingPinCode??""):g&&(s=g.legalBusinessName||"",o=g.country||"India",u=g.address||"",j=g.apartment||"",S=g.city||"",le=g.state||"",oe=g.pinCode||""),X(s),J(o),Q(u),ee(j),te(S),se(le),ae(oe),_e({legalBusinessName:s,country:o,address:u,apartment:j,city:S,state:le,pinCode:oe}),k(!1)},[je,a,g]),t.useEffect(()=>{y||(a?(D(a.backupRegion??"India"),U(a.unitSystem??"metric"),W(a.weightUnit??"kg"),K(a.timeZone??"Asia/Kolkata"),H(a.orderIdPrefix??"#"),de(a.orderIdSuffix??""),ue(a.fulfillmentOption??"dont_fulfill"),xe(!!a.notifyCustomers),fe(!!a.fulfillHighRiskOrders),be(a.autoArchive!==void 0?a.autoArchive:!0),Y(a.storeName??T?.storeName??"My Store"),z(a.storeEmail??l?.email??""),V(a.storePhone??(c?.contactInfo&&c.contactInfo.trim()?c.contactInfo:"")),X(a.legalBusinessName??""),J(a.billingCountry??"India"),Q(a.billingAddress??""),ee(a.billingApartment??""),te(a.billingCity??""),se(a.billingState??""),ae(a.billingPinCode??"")):(D("India"),U("metric"),W("kg"),K("Asia/Kolkata"),H("#"),de(""),ue("dont_fulfill"),xe(!1),fe(!1),be(!0),Y(T?.storeName||"My Store"),z(l?.email||"developer200419@gmail.com"),V(c?.contactInfo&&c.contactInfo.trim()?c.contactInfo:""),X(g?.legalBusinessName||""),J(g?.country||"India"),Q(g?.address||""),ee(g?.apartment||""),te(g?.city||""),se(g?.state||""),ae(g?.pinCode||"")),Ne(!1),Pe(!0))},[a,y,T,l,c,g]);const He=t.useCallback(()=>{ke(!0)},[]),re=t.useCallback(()=>{ke(!1)},[]),Ze=t.useCallback(async()=>{if(!a||!a._id){b.error("General settings not found. Please refresh the page.");return}if(!(N!==Z.storeName||G!==Z.storeEmail||A!==Z.storePhone)){re();return}if(!r){b.error("No store selected. Please select a store to save settings.");return}Se(!0);try{const o=j=>j.trim()||void 0;await h(a._id,{storeId:r,storeName:o(N),storeEmail:o(G),storePhone:o(A)});const u=N.trim()||N||"My Store";i(j=>j.map(S=>S._id===r?{...S,storeName:u}:S)),we({storeName:N,storeEmail:G,storePhone:A}),b.success("Store profile updated successfully"),d(),re()}catch(o){const u=o?.response?.data?.message||o?.message||"Failed to update store profile";b.error(u)}finally{Se(!1)}},[a,N,G,A,Z,r,h,i,d,re]),Ye=t.useCallback(()=>{Ge(!0)},[]),ne=t.useCallback(()=>{Ge(!1)},[]),ze=t.useCallback(async()=>{if(!a||!a._id){b.error("General settings not found. Please refresh the page.");return}if(!r){b.error("No store selected. Please select a store to save settings.");return}if(!(I!==v.legalBusinessName||O!==v.country||M!==v.address||B!==v.apartment||F!==v.city||E!==v.state||R!==v.pinCode)){ne();return}Ae(!0);try{const o=u=>u.trim()||void 0;await h(a._id,{storeId:r,legalBusinessName:o(I),billingCountry:O,billingAddress:o(M),billingApartment:o(B),billingCity:o(F),billingState:o(E),billingPinCode:o(R)}),b.success("Billing information updated successfully"),d(),ne()}catch(o){const u=o?.response?.data?.message||o?.message||"Failed to update billing information";b.error(u)}finally{Ae(!1)}},[a,r,I,O,M,B,F,E,R,v,h,d,ne]),Ve=t.useCallback(async()=>{if(!r){b.error("No store selected. Please select a store to save settings.");return}const s=u=>u.trim()||void 0,o={storeId:r,backupRegion:C,unitSystem:_,weightUnit:L,timeZone:$,orderIdPrefix:P,orderIdSuffix:p,fulfillmentOption:me,notifyCustomers:ge,fulfillHighRiskOrders:he,autoArchive:ye,storeName:s(N),storeEmail:s(G),storePhone:s(A),legalBusinessName:s(I),billingCountry:O,billingAddress:s(M),billingApartment:s(B),billingCity:s(F),billingState:s(E),billingPinCode:s(R)};if(!a||!a._id){b.error("General settings not found. Please refresh the page.");return}Oe(!0);try{await h(a._id,o),b.success("General settings updated successfully"),Ne(!1)}catch(u){const j=u?.response?.data?.message||u?.message||"Failed to save general settings";b.error(j)}finally{Oe(!1)}},[r,C,_,L,$,P,p,me,ge,he,ye,N,G,A,I,O,M,B,F,E,R,a,h]);t.useEffect(()=>{r&&(x(r),f(r),Pe(!1),w(r).catch(()=>{}))},[r,x,f,w]);const qe=[{value:"Asia/Kolkata",label:"(GMT+05:30) Chennai, Kolkata, Mumbai, New Delhi"},{value:"America/New_York",label:"(GMT-05:00) Eastern Time (US & Canada)"},{value:"America/Los_Angeles",label:"(GMT-08:00) Pacific Time (US & Canada)"},{value:"Europe/London",label:"(GMT+00:00) Greenwich Mean Time"}],Xe=t.useCallback(s=>{D(s.target.value),d()},[d]),Je=t.useCallback(s=>{U(s.target.value),d()},[d]),Qe=t.useCallback(s=>{W(s.target.value),d()},[d]),et=t.useCallback(s=>{K(s.target.value),d()},[d]),tt=t.useCallback(s=>{H(s.target.value),d()},[d]),st=t.useCallback(s=>{de(s.target.value),d()},[d]),at=t.useCallback(s=>{ue(s.target.value),d()},[d]),rt=t.useCallback(s=>{xe(s.target.checked),d()},[d]),nt=t.useCallback(s=>{fe(s.target.checked),d()},[d]),lt=t.useCallback(s=>{be(s.target.checked),d()},[d]),ot=t.useCallback(s=>{Y(s.target.value),q(!0)},[]),it=t.useCallback(s=>{z(s.target.value),q(!0)},[]),ct=t.useCallback(s=>{V(s.target.value),q(!0)},[]),dt=t.useCallback(s=>{X(s.target.value),k(!0)},[]),mt=t.useCallback(s=>{J(s.target.value),k(!0)},[]),ut=t.useCallback(s=>{Q(s.target.value),k(!0)},[]),gt=t.useCallback(s=>{ee(s.target.value),k(!0)},[]),xt=t.useCallback(s=>{te(s.target.value),k(!0)},[]),ht=t.useCallback(s=>{se(s.target.value),k(!0)},[]),ft=t.useCallback(s=>{ae(s.target.value),k(!0)},[]);return e.jsx(St,{children:e.jsxs("div",{className:"max-w-7xl mx-auto w-full flex flex-col gap-4 py-8 px-4",children:[e.jsx(Kt,{settings:a,activeStore:T,loggedInUser:l,info:c,billingAddress:g,onEditProfile:He,onEditBilling:Ye}),e.jsx($t,{backupRegion:C,unitSystem:_,weightUnit:L,timeZone:$,timeZones:qe,onBackupRegionChange:Xe,onUnitSystemChange:Je,onWeightUnitChange:Qe,onTimeZoneChange:et}),e.jsx(_t,{orderIdPrefix:P,orderIdSuffix:p,onPrefixChange:tt,onSuffixChange:st}),e.jsx(Ut,{fulfillmentOption:me,notifyCustomers:ge,fulfillHighRiskOrders:he,autoArchive:ye,onFulfillmentOptionChange:at,onNotifyCustomersChange:rt,onFulfillHighRiskOrdersChange:nt,onAutoArchiveChange:lt}),e.jsx(Wt,{}),e.jsx(Lt,{onOpenShortcutsModal:We}),e.jsx(Ft,{onSave:Ve,saving:Ie,disabled:!ve||!Ue||Ie||y}),e.jsx(Bt,{open:pe,onClose:re,onSave:Ze,saving:Te,storeName:N,storeEmail:G,storePhone:A,initialValues:Z,onStoreNameChange:ot,onStoreEmailChange:it,onStorePhoneChange:ct}),e.jsx(Mt,{open:je,onClose:ne,onSave:ze,saving:De,legalBusinessName:I,country:O,address:M,apartment:B,city:F,state:E,pinCode:R,initialValues:v,countries:Ke,onLegalBusinessNameChange:dt,onCountryChange:mt,onAddressChange:ut,onApartmentChange:gt,onCityChange:xt,onStateChange:ht,onPinCodeChange:ft}),e.jsx(Dt,{open:Le,onClose:$e})]})})};export{ts as default};
